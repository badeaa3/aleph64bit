head	1.3;
access;
symbols
	alio83:1.3
	alio82:1.3
	alio81:1.3
	alio80:1.3
	alio74:1.3
	alio73:1.3
	alio72:1.3
	alio71:1.3
	alio70:1.3
	alio68:1.3
	alio69:1.3
	alio67:1.3
	alio66:1.3
	alio65:1.3
	alio64:1.3
	alio63:1.3
	alio62:1.3
	alio61:1.3
	alio60:1.3
	alephio53:1.2
	v4:1.1.1.1
	flr:1.1.1;
locks; strict;
comment	@c @;


1.3
date	96.05.03.14.45.17;	author flr;	state Exp;
branches;
next	1.2;

1.2
date	96.03.13.15.01.36;	author flr;	state Exp;
branches;
next	1.1;

1.1
date	94.12.07.13.52.31;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	94.12.07.13.52.32;	author flr;	state Exp;
branches;
next	;


desc
@@


1.3
log
@replace flag ${VENDOR} with ALEPH_${VENDOR}
Modified Files:
  ard/	ainqui.F algtenv.F aopen.F aopenw.F aoperd.F aoptap.F astage.F
 	awrtap.F
  pres/	cmpbu3.c cmpbu4.c cmpbu5.c dmpbl3.c dmpbl4.c dmpbl5.c dmpcop.c
 	extzv.c insv.c
  epio/ epinit.F
  inc/ 	cmphost.h ctolow.h gtchunit.h gtftyp.h
  io/ 	almach.F openda.F opendb.F opensq.F sdrsx.F sibsdr.F sxsdr.F
@
text
@      LOGICAL FUNCTION OPENDB(LDBAS)
C.---------------------------------------------------------------------
CKEY IO OPEN DAF
C  F.Ranjard - 880304     modified by M.Rumpf for APOLLO sequence
C! Open DAF
C  DAF length is 1024
C  Input : LDBAS logical unit number for DAF
C  Output: OPENDB is true if the file is found
C  Called by USER program before any use of the D.B.
C  Calls BDADF from Boslib
C  For APOLLO ,it is assumed that a LINK ADBSCONS.DAF
C  exists on the DAF.
C.---------------------------------------------------------------------
#ifndef DOC
#include "albitw.h"
#include "bcs.h"
      PARAMETER (ILNDB=1024)
      LOGICAL LEX
C --------------------------------------------------------------------
      LEX = .FALSE.
      IF (LDBAS .GT. 0) THEN
         LEX=.TRUE.
         INQUIRE (UNIT=LDBAS,EXIST=LEX,RECL=LEN)
      ENDIF
C
      IF (LEX) THEN
#if defined(ALEPH_DEC) || defined(ALEPH_SGI)
         OPEN (LDBAS,STATUS='OLD',ACCESS='DIRECT',RECL=ILNDB,READONLY)
#else
#if defined(APOLLO) || defined(ALEPH_HP)
         OPEN (LDBAS,STATUS='OLD',ACCESS='DIRECT',RECL=ILNDB,
     &         FILE='~/adbscons.daf')
#else
         OPEN (LDBAS,STATUS='OLD',ACCESS='DIRECT',RECL=ILNDB*LCHAR)
#endif
#endif
         IW(1)=2
         CALL BDABF(LDBAS,ILNDB,'    ','    ')
      ENDIF
      OPENDB = LEX
C
      END
#endif
@


1.2
log
@import alephio 52 from historian. Modify aclose.F to NOT call brwnd twice
for the same file. update version.h to 5.3
@
text
@d27 1
a27 1
#if defined(DEC) || defined(SGI)
d30 1
a30 1
#if defined(APOLLO) || defined(HP)
@


1.1
log
@Initial revision
@
text
@a0 1
*DK opendb
d27 1
a27 1
#if defined(VAX) || defined(DEC) || defined(SGI)
@


1.1.1.1
log
@import alephio 4
@
text
@@
