head	1.5;
access;
symbols
	alio83:1.5
	alio82:1.5
	alio81:1.5
	alio80:1.5
	alio74:1.5
	alio73:1.5
	alio72:1.5
	alio71:1.5
	alio70:1.5
	alio68:1.5
	alio69:1.5
	alio67:1.4
	alio66:1.4
	alio65:1.4
	alio64:1.4
	alio63:1.4
	alio62:1.4
	alio61:1.4
	alio60:1.4
	alephio53:1.3
	v4:1.1.1.1
	flr:1.1.1;
locks; strict;
comment	@c @;


1.5
date	97.01.16.13.55.54;	author flr;	state Exp;
branches;
next	1.4;

1.4
date	96.05.03.14.45.22;	author flr;	state Exp;
branches;
next	1.3;

1.3
date	96.03.13.15.01.40;	author flr;	state Exp;
branches;
next	1.2;

1.2
date	96.01.18.13.51.15;	author flr;	state Exp;
branches;
next	1.1;

1.1
date	94.12.07.13.52.32;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	94.12.07.13.52.33;	author flr;	state Exp;
branches;
next	;


desc
@@


1.5
log
@alephio68 introduce ALEPH_LINUX flag
@
text
@      SUBROUTINE SIBSDR (IARRAY,NW)
C-------------------------------------------------------------------------
CKEY IO DECS CONVERT
C! convert from IBM to DEC RISC floating point format
C - Author - LatB
C -- i.e. byte-swapped IEEE floating point
C -- stolen from CFRIBM of EPIO lib
C - Input  : - IARRAY /I = array of IBM floating point
C            - NW     /I = length of IARRAY
C - Output : - IARRAY /I = array of DEC RISC floating point
C ------------------------------------------------------------------------
#ifndef DOC
#if defined(ALEPH_DEC) && defined(UNIX) || defined(ALEPH_LINUX)
      IMPLICIT NONE
      INTEGER NW
      INTEGER IARRAY(1)

      INTEGER IBIG, ISMA, ILEFT, IEXPO
      PARAMETER (IBIG=2147483647,ISMA=8388608)

      INTEGER J, IDUMMY, LW
C --------------------------------------------------------------
      IF(NW.LE.0)   GO TO 999
C
C                Convert the first NW words of IARRAY from
C                IBM 32-bit floating point representation to
C                IEEE single-precision (32-bit) floating point
C                representation
        DO 2 J=1,NW
C
           LW = IARRAY(J)
C             Check for exact 0
           IF (LW .EQ. 0) GOTO 2
C
C              Make sure ILEFT gets defined to something!
           ILEFT = 0
C
C                Get exponent
           IEXPO  = ISHFT(ISHFT(LW,1),-25)
           IF(BTEST(LW,23)) THEN
              ILEFT = 0
           ELSEIF(BTEST(LW,22)) THEN
              ILEFT = 1
           ELSEIF(BTEST(LW,21)) THEN
              ILEFT = 2
           ELSEIF(BTEST(LW,20)) THEN
              ILEFT = 3
           END IF
           IEXPO = IEXPO * 4 - ILEFT - 130
           IF(IEXPO.LE.0) THEN
              IDUMMY = ISMA
              GO TO 1
           ELSEIF(IEXPO.GT.255) THEN
              IDUMMY = IBIG
              GO TO 1
           END IF
           IDUMMY = ISHFT(LW,ILEFT)
           IDUMMY = IOR(IAND(IDUMMY,2**23-1),ISHFT(IEXPO,23))
   1       IF(BTEST(LW,31)) IDUMMY = IBSET(IDUMMY,31)
           IARRAY(J) = IDUMMY
   2    CONTINUE
C
 999  CONTINUE
#endif
      END
#endif
@


1.4
log
@replace flag ${VENDOR} with ALEPH_${VENDOR}
Modified Files:
  ard/	ainqui.F algtenv.F aopen.F aopenw.F aoperd.F aoptap.F astage.F
 	awrtap.F
  pres/	cmpbu3.c cmpbu4.c cmpbu5.c dmpbl3.c dmpbl4.c dmpbl5.c dmpcop.c
 	extzv.c insv.c
  epio/ epinit.F
  inc/ 	cmphost.h ctolow.h gtchunit.h gtftyp.h
  io/ 	almach.F openda.F opendb.F opensq.F sdrsx.F sibsdr.F sxsdr.F
@
text
@d13 1
a13 1
#if defined(ALEPH_DEC) && defined(UNIX)
@


1.3
log
@import alephio 52 from historian. Modify aclose.F to NOT call brwnd twice
for the same file. update version.h to 5.3
@
text
@d13 1
a13 1
#if defined(DEC) && defined(UNIX)
@


1.2
log
@ Modified Files:
	acdarg.F afilin.F afilou.F ainqui.F amount.F aoptap.F astage.F
	awrtap.F
 Modified Files:
	cmphost.h ctolow.h gtchdecl.h version.h
 Removed Files:
	albitw.h
 Modified Files:
 	altell.F babend.F jalrec.F noibm.F opensq.F sdrsx.F sibsdr.F
	sxsdr.F
@
text
@a0 1
*DK sibsdr
d13 1
a13 1
#if defined(DEC)
@


1.1
log
@Initial revision
@
text
@d4 1
a4 1
CKEY IO DEC CONVERT
@


1.1.1.1
log
@import alephio 4
@
text
@@
