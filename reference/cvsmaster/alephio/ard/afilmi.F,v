head	1.2;
access;
symbols
	alio83:1.2
	alio82:1.2
	alio81:1.2
	alio80:1.2
	alio74:1.2
	alio73:1.2
	alio72:1.2
	alio71:1.2
	alio70:1.2
	alio68:1.2
	alio69:1.2
	alio67:1.2
	alio66:1.2
	alio65:1.2
	alio64:1.2
	alio63:1.2
	alio62:1.2
	alio61:1.2
	alio60:1.2
	alephio53:1.2
	v4:1.1.1.1
	flr:1.1.1;
locks; strict;
comment	@c @;


1.2
date	96.03.13.15.00.05;	author flr;	state Exp;
branches;
next	1.1;

1.1
date	94.12.07.13.52.35;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	94.12.07.13.52.36;	author flr;	state Exp;
branches;
next	;


desc
@@


1.2
log
@import alephio 52 from historian. Modify aclose.F to NOT call brwnd twice
for the same file. update version.h to 5.3
@
text
@      SUBROUTINE AFILMI(FNAME,FTYPE,FDEVI,IRET)
C-----------------------------------------------------------------------
C - Author :    D.Schlatter         AUG-88
C   modified by M.Talby :           MAY-89
C
C! get filename and alephtype from ALEPH input bank ( FILM )
CKEY ALREAD RUNCARDS FILM
C
C  'filename' means 'fn ft fm' on IBM ,'fname.ext' on VAX and APOLLO
C  'filetype' means 'ft' on IBM ,'ext' on VAX and APOLLO.
C
C     input:    runcard     FILM  'filename '
C                         if 'filetype' is not a standard alephtype then
C                           FILM  'filename | alephtype'
C                     e.g.  FILM 'ABC.NATIVE'
C                           FILM 'XYZ.DAT|NATIVE'
C
C     output:   FNAME      full filename
C               FTYPE      alephtype
C               FDEVI      device ('DISK'/ 'TAPE')
C               IRET       RETURN code from ACDARG
C                          = 0  bank found with correct filename
C
C   Calls:   ACDARG,AINQUI
C
C-----------------------------------------------------------------------
#ifndef DOC
#include "bcs.h"
#include "alrcom.h"
      CHARACTER*(*) FTYPE,FNAME,FDEVI
      INTEGER ACARD0
      LOGICAL LEX
      DATA IFI /0/
C------------------------------------------------------------
C
      IF (IFI.EQ.0) THEN
         IFI = 1
         NRFILM = 0
         IRFILM = 0
      ENDIF
C
C                   get filename/alephtype from FILM card
        CALL ACDARG ('FILM','EPIO','*',FNAME,FTYPE,FDEVI,IRC )
        IRET = IRC
        IRFILM = IRC
        IF (IRC .NE. 0)  GO TO 999
        NAMI = ACARD0 (NR)
        NRFILM = NR
C
  999 RETURN
      END
#endif
@


1.1
log
@Initial revision
@
text
@a0 1
*DK afilmi
@


1.1.1.1
log
@import alephio 4
@
text
@@
