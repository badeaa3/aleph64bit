head	1.2;
access;
symbols
	bos3489-1:1.2.0.2
	bos3589:1.2
	bos3489:1.2
	bos3389:1.2
	bos3289:1.2
	bos3189:1.2
	bos3089:1.2
	v3089:1.1.1.1
	flr:1.1.1;
locks; strict;
comment	@c @;


1.2
date	96.03.11.12.47.34;	author flr;	state Exp;
branches;
next	1.1;

1.1
date	94.12.07.13.58.09;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	94.12.07.13.58.10;	author flr;	state Exp;
branches;
next	;


desc
@@


1.2
log
@import new version made for cvs on alws.
add eprwnd.F to test the descriptor before calling CFREW. Should be included
into the EPIO next release.
 Added Files:
 	eprwnd.F
@
text
@      SUBROUTINE BDADR(LUN,NAME,NR)
*     DELETE BANK ON UNIT LUN
*     IGNORED IF BANK NOT FOUND ON DATA SET
*     OR WRONG PASSWORD GIVEN
*     OR DATASET NO OPENED (BDABF)
*
#include "dacom.h"
#include "param.h"
      COMMON/BCS/IW(1000)
      CHARACTER*4 NAME
*     ...
      IUB=NLINK('+BUF',LUN)
      IF(IUB.EQ.0) GOTO 100
      IF(IW(IUB+18).EQ.0) GOTO 100
      LUNDA=LUN
      NWRDA=IW(IUB+11)
      NADA=INTCHA(NAME)
      NRDA=NR

*     TEST DIRECTORY ENTRY

      CALL DADIR(1)

*     IGNORE, IF NOT FOUND

      IF(NRD.EQ.0) GOTO 100

*     RESERVE UNIT

      CALL DARES
      CALL DADAT(2,JW,*10)
   10 CALL DADIR(2)
      CALL DAFWR(0,1)
      CALL DAFWR(0,0)
      IF(IW(LUP).GT.0.AND.IW(LUW).GT.0) THEN
         WRITE(IW(LUP),101) LUNDA,NADA,NRDA
         IW(LUW)=IW(LUW)-1
      END IF
      CALL DADES
  100 RETURN
  101 FORMAT(' ----------  DA-UNIT',I3,'   BANK ',A4,I12,' DROPPED')
      END
@


1.1
log
@Initial revision
@
text
@a0 1
*DK bdadr
@


1.1.1.1
log
@import bos77 3089
@
text
@@
