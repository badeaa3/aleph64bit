head	1.2;
access;
symbols
	look25:1.2
	look24:1.2
	look23:1.2
	look22:1.2
	look21:1.2
	look20:1.2
	v15:1.1.1.1
	flr:1.1.1;
locks; strict;
comment	@c @;


1.2
date	96.04.18.09.05.59;	author flr;	state Exp;
branches;
next	1.1;

1.1
date	94.12.09.15.50.25;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	94.12.09.15.50.26;	author flr;	state Exp;
branches;
next	;


desc
@@


1.2
log
@change VAX to DEC.AND..NOT.UNIX ==> version 20

 Modified Files:
 	lkevt.h lkfil.h lklast.h lkunpk.h version.h
 Removed Files:
	lookend.h
@
text
@      SUBROUTINE LKKEY(STR,KW,NUMCOM,KEY,*)
C ----------------------------------------------------
C! get a keyword from a command string
C  get the KEY from a STR string of characters limited
C  or not by a "/".
C - Input : STR      / A = command string
C           KW       / A = list of keys
C           NUMCOM   / I = number of keys
C - Output: KEY      / A = found key
C ----------------------------------------------------
#ifndef DOC
#include "lkfil.h"
      CHARACTER STR*80,KEY*10,KW(20)*10
      LOGICAL FOUND,LKEQUAL
      EXTERNAL LKEQUAL
C ----------------------------------------------------
      IP = ICFNBL (STR,1,80)
      IF (IP.EQ.81) GOTO 99
      LEN=LKLWRD(STR(IP:80))-1
      IF (LEN.GT.10.OR.LEN.EQ.-2) THEN
          IF (LEN.EQ.0) LEN=81-IP
          WRITE(LOUT,*) 'Keyword too long, please re-enter ("HELP"',
     +                ' for command summary)'
          WRITE(LOUT,*) '"',STR(IP:IP+LEN),'"'
          GOTO 99
      ELSEIF (LEN.EQ.-1) THEN
          GOTO 99
      ENDIF
      KEY=STR(IP:IP+LEN)
      I=0
      FOUND=.FALSE.
 10   I=I+1
      IF (LKEQUAL(KEY,KW(I))) THEN
          FOUND=.TRUE.
      ELSE IF (I.LT.NUMCOM) THEN
          GOTO 10
      ENDIF
      IF (.NOT.FOUND) THEN
          WRITE(LOUT,*) 'Unknown keyword, please re-enter ("HELP"',
     +                'for command summary)'
          WRITE(LOUT,*) '"',STR(IP:IP+LEN),'"'
          GOTO 99
      ENDIF
      KEY=KW(I)
      STR=STR(IP+LEN+1:80)
      I=1
 20   IF (STR(I:I).EQ.' ') THEN
          I=I+1
          GOTO 20
      ENDIF
      IF (I.GT.1) STR=STR(I:80)
      RETURN
 99   RETURN 1
      END
#endif
@


1.1
log
@Initial revision
@
text
@a0 1
*DK lkkey
@


1.1.1.1
log
@import look 15
@
text
@@
