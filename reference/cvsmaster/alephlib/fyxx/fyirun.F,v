head	1.4;
access;
symbols
	aleph316_2:1.4
	aleph316_1:1.4
	aleph316:1.4
	aleph315_7:1.4
	aleph315_6:1.4
	aleph315_5:1.4
	aleph315_4:1.4
	aleph315_3:1.4
	aleph315_2:1.4
	aleph315_1:1.4
	aleph315:1.4
	aleph314_2:1.4
	aleph314_1:1.4
	aleph314:1.4
	aleph313_1:1.4
	aleph313:1.4
	aleph312_1:1.4
	aleph312:1.4
	aleph311_1:1.4
	aleph311:1.4
	aleph310_3:1.4
	aleph310_2:1.4
	aleph310_1:1.4
	aleph310:1.4
	aleph309_1:1.4
	aleph309:1.4
	aleph308_3:1.4
	aleph308_2:1.4
	aleph308_1:1.4
	aleph308:1.4
	aleph307_6:1.4
	aleph307_5:1.3
	aleph307_4:1.3
	aleph307_2:1.3
	aleph307_1:1.3
	aleph307:1.3
	aleph306:1.3
	aleph305_4:1.3
	aleph305_3:1.3
	aleph305_2:1.3
	aleph305_1:1.3
	aleph305:1.3
	aleph304_5:1.3
	aleph304_4:1.3
	aleph304_3:1.3
	aleph304_2:1.3
	aleph304_1:1.3
	aleph304:1.3
	aleph303_3:1.3
	aleph303_2:1.3
	aleph303_1_mc1:1.3
	aleph303_1:1.3
	aleph303:1.3
	aleph302_9:1.3
	aleph302_8:1.3
	aleph302_7:1.3
	aleph302_6:1.3
	aleph302_5:1.3
	aleph302_4:1.3
	aleph302_3:1.3
	aleph302_2:1.3
	aleph302_1:1.3
	aleph302:1.3
	aleph216:1.3
	aleph215_3:1.3
	aleph215_2:1.3
	aleph215:1.3
	aleph214:1.1.1.1
	aleph213:1.1.1.1
	aleph212:1.1.1.1
	ALEPH212:1.1.1;
locks; strict;
comment	@c @;


1.4
date	98.04.01.10.34.47;	author cattanem;	state Exp;
branches;
next	1.3;

1.3
date	96.07.22.12.52.52;	author cattanem;	state Exp;
branches;
next	1.2;

1.2
date	96.07.22.12.21.32;	author cattanem;	state Exp;
branches;
next	1.1;

1.1
date	96.02.07.11.41.50;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.02.07.11.41.51;	author flr;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Mods for Alephlib 307.6
@
text
@      SUBROUTINE FYIRUN(BFIEL,TKDRO,SHDRO,CUTRA)
C ----------------------------------------------------------
CKEY FYXX MCARLO KINE INIT /USER
C J.Hilgart - 871307   B.Bloch 901010,980316
C! Fxxx DST format one-time initialization.
C
C INPUTS:
C       BFIEL       = Magnetic field in kGauss
C       TKDRO       = IF true THEN drop history of interactions
C                     in ITC electronics and TPC endplate
C       SHDRO       = IF true THEN drop history of interactions
C                     in calorimeters
C       CUTRA       = IF not 0. THEN drop track with momentum
C                     below CUTRA
C
C - Called from    USER              from ALEPHLIB.HLB
C - Calls   BKFMT                    from BOS77.HLB
#ifndef DOC
      SAVE
#include "bcs.h"
#include "alcons.h"
#include "fyrela.h"
#include "kgjjpar.h"
      LOGICAL SHDRO,TKDRO
#include "bmacro.h"
C ----------------------------------------------------------------------
C Some constants
      ENMINC = -1.0
      FSHDRO = SHDRO
      FTKDRO = TKDRO
      CUTRAC = CUTRA
      BFLCLT = BFIEL*CLGHT*1.E-5
C
C What the Fxxx adds to the E list: (6 banks)
      ELISAD = 'FKINFVERFPOIFPOLFZFRFSHO'
C
C Their formats:
      CALL BKFMT('FKIN','2I,(4F,4I)')
      CALL BKFMT('FVER','2I,(4F,3I,2A)')
      CALL BKFMT('FPOL','2I,(I,3F)')
      CALL BKFMT('FZFR','2I,(F)')
      CALL BKFMT('FSHO','I')
      CALL BKFMT('FPOI','I')
C
      NAJOB = NAMIND('AJOB')
      KAJOB = IW(NAJOB)
      IF (KAJOB .GT. 0) THEN
         ISIML = ITABL(KAJOB,1,2)
         IF (ISIML.EQ.101 .OR. ISIML.EQ.111) THEN
C FAST or SIMDST: add the SIMDST banks to 'E'list
            ELISAD = ELISAD(1:LNBLNK(ELISAD))//
     +               'FSTRFSCOFLTRFLCOFTOCFTTMFTCM'
            CALL BKFMT('FSCO','2I,(F,I,7F,I)')
            CALL BKFMT('FLTR','I')
            CALL BKFMT('FLCO','I')
            CALL BKFMT('FTOC','I')
            CALL BKFMT('FTTM','I')
            CALL BKFMT('FTCM','I')
         ENDIF
      ENDIF
C
C - get history type from KRUN bank
      IHTYPE = 0
      NKRUN = NAMIND('KRUN')
      JKRUN = IW(NKRUN)
      IF (JKRUN .GT. 0) THEN
         IGCOD = ITABL(JKRUN,JKRUGI,1)
         IHTYPE = MOD (IGCOD,1000) / 100
      ENDIF
C
C Work bank indices one-time initialization
      DO 1 I=1,LFXWBK
  1   JDFXWB(I) = 0
C
 990  CONTINUE
      END
#endif
@


1.3
log
@replace LENOCC by LNBLNK
@
text
@d4 1
a4 1
C J.Hilgart - 871307   B.Bloch 901010
d34 2
a35 2
C What the Fxxx adds to the E list: (5 banks)
      ELISAD = 'FKINFVERFPOIFPOLFZFR'
d42 1
@


1.2
log
@Fix string in fyirun
@
text
@a24 1
      EXTERNAL LENOCC
d50 1
a50 1
            ELISAD = ELISAD(1:LENOCC(ELISAD))//
@


1.1
log
@Initial revision
@
text
@d25 1
d51 2
a52 1
            ELISAD = ELISAD//'FSTRFSCOFLTRFLCOFTOCFTTMFTCM'
@


1.1.1.1
log
@import aleph212 from alws
@
text
@@
