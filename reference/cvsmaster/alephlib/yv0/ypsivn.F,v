head	1.2;
access;
symbols
	aleph316_2:1.2
	aleph316_1:1.2
	aleph316:1.2
	aleph315_7:1.2
	aleph315_6:1.2
	aleph315_5:1.2
	aleph315_4:1.2
	aleph315_3:1.2
	aleph315_2:1.2
	aleph315_1:1.2
	aleph315:1.2
	aleph314_2:1.2
	aleph314_1:1.2
	aleph314:1.2
	aleph313_1:1.2
	aleph313:1.2
	aleph312_1:1.2
	aleph312:1.2
	aleph311_1:1.2
	aleph311:1.2
	aleph310_3:1.2
	aleph310_2:1.2
	aleph310_1:1.2
	aleph310:1.2
	aleph309_1:1.2
	aleph309:1.2
	aleph308_3:1.2
	aleph308_2:1.2
	aleph308_1:1.2
	aleph308:1.2
	aleph307_6:1.2
	aleph307_5:1.2
	aleph307_4:1.2
	aleph307_2:1.2
	aleph307_1:1.2
	aleph307:1.2
	aleph306:1.2
	aleph305_4:1.2
	aleph305_3:1.2
	aleph305_2:1.2
	aleph305_1:1.2
	aleph305:1.2
	aleph304_5:1.2
	aleph304_4:1.2
	aleph304_3:1.2
	aleph304_2:1.2
	aleph304_1:1.2
	aleph304:1.2
	aleph303_3:1.2
	aleph303_2:1.2
	aleph303_1_mc1:1.2
	aleph303_1:1.2
	aleph303:1.2
	aleph302_9:1.2
	aleph302_8:1.2
	aleph302_7:1.2
	aleph302_6:1.2
	aleph302_5:1.2
	aleph302_4:1.2
	aleph302_3:1.2
	aleph302_2:1.2
	aleph302_1:1.2
	aleph302:1.2
	aleph216:1.2
	aleph215_3:1.2
	aleph215_2:1.2
	aleph215:1.1.1.1
	aleph214:1.1.1.1
	aleph213:1.1.1.1
	aleph212:1.1.1.1
	ALEPH212:1.1.1;
locks; strict;
comment	@c @;


1.2
date	96.09.03.13.06.27;	author cattanem;	state Exp;
branches;
next	1.1;

1.1
date	96.02.07.11.45.24;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.02.07.11.45.25;	author flr;	state Exp;
branches;
next	;


desc
@@


1.2
log
@add missing #ifdef DOCs
@
text
@        SUBROUTINE YPSIVN(PR,ELIP1,PSIN,XD0)
C-------------------------------------------------
C! Find the psi angle respect to the pr point
CKEY YV0 ANGLE /USER
C      AUTHOR  : M.A.CIOCCI 3/4/91
C
C      INPUT:
C           PR(3)/R   :Generally the mean value of primary vertex
C           ELIP1(5)/R: FIVE PARAMETERS OF THE TRACK AS IN FRFT
C
C      OUTPUT:
C           PSIN/R    :Angle psi for track at minum distance from pr
C                      on the space
C           xd0(3)/r  :coordinates of point at minimum distance from
C                      from pr
C
C
C
C                  DESCRIPTION
C                  ===========
C       Finds the psi angle of a charged track minimizing the distance
C       between helix and point pr.
C       Searchs the points coordinate at minimum distance from pr(3)
C       in the x-y plane (yd0nfn), calculates psi angle mod twopi
C       (yfixyn),  minimizing also the distance in z calculate
C       psi angle defining phase(yzphan)
C
C
C       CALLED: user
C
C       CALLS:  YD0NFN,YZPHAN,YFIXYN
C
C-------------------------------------------------------------
#ifndef DOC
      SAVE
      EXTERNAL YFIXYN
#include "bcs.h"
#include "frftjj.h"
C
        REAL PR(*),XD0(*),CF
        REAL ELIP1(*)
      EXTERNAL NLINK,NAMIND,NBANK,CHAINT,INTCHA,NDROP
      CHARACTER*4 CHAINT
      INTEGER NLINK,NAMIND,NBANK,INTCHA,NDROP
#include "bmacro.h"
C
C+      ELIP1: THE FIVE PARAMETERS OF THE HELIX
C       FROM THE FRFT BANK
C
C
C+       HERE DEFINE THE SIX NEW PARAMETERS OF
C+       OF THE TWO HELICES
C
       CF=-ELIP1(1)/ABS(ELIP1(1))
       RHOF=ABS(1./ELIP1(1))
       D0F=-CF*ELIP1(4)
       XKF=-CF/(RHOF-D0F)
       XLAMF=ELIP1(2)
       FI0F=ELIP1(3)
       Z0F=ELIP1(5)
C
C+        SEARCHES THE COORDINATES OF POINT AT MINIMUM DISTANCE
C+        FROM PR(3) IN THE X-Y PLANE  (XD0(3))
C
         CALL YD0NFN(PR,RHOF,D0F,FI0F,CF,XD0,SIGND)
C
C
C+      CALCULATE PSI ANGLE AT XD0
C+
C
C
        PSIN=YFIXYN(CF,XD0(1),XD0(2),RHOF,FI0F,D0F)
C
C+   PSI MINIMIZING ALSO THE Z DISTANCE (PSI= PSI+N*TWOPI)
C
        CALL YZPHAN(PR,RHOF*XLAMF,Z0F,PSIN,XD0)
         RETURN
         END
#endif
@


1.1
log
@Initial revision
@
text
@d34 1
d79 1
@


1.1.1.1
log
@import aleph212 from alws
@
text
@@
