head	1.1;
branch	1.1.1;
access;
symbols
	aleph316_2:1.1.1.1
	aleph316_1:1.1.1.1
	aleph316:1.1.1.1
	aleph315_7:1.1.1.1
	aleph315_6:1.1.1.1
	aleph315_5:1.1.1.1
	aleph315_4:1.1.1.1
	aleph315_3:1.1.1.1
	aleph315_2:1.1.1.1
	aleph315_1:1.1.1.1
	aleph315:1.1.1.1
	aleph314_2:1.1.1.1
	aleph314_1:1.1.1.1
	aleph314:1.1.1.1
	aleph313_1:1.1.1.1
	aleph313:1.1.1.1
	aleph312_1:1.1.1.1
	aleph312:1.1.1.1
	aleph311_1:1.1.1.1
	aleph311:1.1.1.1
	aleph310_3:1.1.1.1
	aleph310_2:1.1.1.1
	aleph310_1:1.1.1.1
	aleph310:1.1.1.1
	aleph309_1:1.1.1.1
	aleph309:1.1.1.1
	aleph308_3:1.1.1.1
	aleph308_2:1.1.1.1
	aleph308_1:1.1.1.1
	aleph308:1.1.1.1
	aleph307_6:1.1.1.1
	aleph307_5:1.1.1.1
	aleph307_4:1.1.1.1
	aleph307_2:1.1.1.1
	aleph307_1:1.1.1.1
	aleph307:1.1.1.1
	aleph306:1.1.1.1
	aleph305_4:1.1.1.1
	aleph305_3:1.1.1.1
	aleph305_2:1.1.1.1
	aleph305_1:1.1.1.1
	aleph305:1.1.1.1
	aleph304_5:1.1.1.1
	aleph304_4:1.1.1.1
	aleph304_3:1.1.1.1
	aleph304_2:1.1.1.1
	aleph304_1:1.1.1.1
	aleph304:1.1.1.1
	aleph303_3:1.1.1.1
	aleph303_2:1.1.1.1
	aleph303_1_mc1:1.1.1.1
	aleph303_1:1.1.1.1
	aleph303:1.1.1.1
	aleph302_9:1.1.1.1
	aleph302_8:1.1.1.1
	aleph302_7:1.1.1.1
	aleph302_6:1.1.1.1
	aleph302_5:1.1.1.1
	aleph302_4:1.1.1.1
	aleph302_3:1.1.1.1
	aleph302_2:1.1.1.1
	aleph302_1:1.1.1.1
	aleph302:1.1.1.1
	aleph216:1.1.1.1
	aleph215_3:1.1.1.1
	aleph215_2:1.1.1.1
	aleph215:1.1.1.1
	aleph214:1.1.1.1
	aleph213:1.1.1.1
	aleph212:1.1.1.1
	ALEPH212:1.1.1;
locks; strict;
comment	@c @;


1.1
date	96.02.07.11.43.19;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.02.07.11.43.20;	author flr;	state Exp;
branches;
next	;


desc
@@



1.1
log
@Initial revision
@
text
@      SUBROUTINE PRTABL (NAME,NUM)
C.......................................................................
C Author : S. Orteu       24-NOV-1986
C
C!Prints tabular banks in a pretty format.
C  the routine assumes that the banks has a miniheader of 2 words:
C  the # of columns, the # of rows.
C  if the # of columns is > 1000 , the bank is assumed not to be of
C  tabular format. In this case the routine prints a message and
C  returns.
C  in the other case , it uses a modified version of BPRNT (BOS77)
C  to print 1 row at a time.
C
C - structure : SUBROUTINE subprogram
C               User Entry Names: PRTABL
C               External References: BPRTAB
C                                    NAMIND, NLINK (BOS77)
C               Comdecks referenced: BCS, BMACRO
C
C - usage   : CALL PRTABL (NAME,NUM)
C - input   : NAME  = bank name (up to 4 char.)
C             NUM    =bank # (if = 0 all banks are printed)
#ifndef DOC
      SAVE
#include "bcs.h"
      EXTERNAL NAMIND,NLINK
      INTEGER  NAMIND,NLINK
      CHARACTER NAME*(*)
      LOGICAL FTABL
#include "bmacro.h"
C
      FTABL(K) =LCOLS(K).LT.256 .AND. LROWS(K).LT.50000 .AND.
     &          IW(K).EQ.LMHLEN+LCOLS(K)*LROWS(K)
C-----------------------------------------------------------------------
C - get the name-index and the bank index
      JNAMI = NAMIND (NAME)
      IF (NUM .EQ. 0) THEN
         IND = IW(JNAMI)
      ELSE
         IND = NLINK (NAME,NUM)
      ENDIF
C - test index
      IF (IND .EQ. 0) THEN
         WRITE(IW(6),*)  ' +++PRTABL+++ ',NAME,' NR=',NUM,
     &                   ' Bank doesn''t exist'
         GOTO 999
      ENDIF
C
C - print
 10   CONTINUE
      IF (IND.NE.0) THEN
         NR = IW(IND-2)
         IF (FTABL(IND)) THEN
            WRITE(IW(6),1000) NAME,NR,LCOLS(IND),LROWS(IND),IW(IND)
            CALL BPRTAB(JNAMI,IND,1,LROWS(IND))
         ELSE
            WRITE(IW(6),*) ' +++PRTABL+++ ',NAME,' NR=',NR,
     &                     ' is not tabular '
            JPR = NPRNT (NAME,NR)
         END IF
         IND = IW(IND-1)
         IF (NUM.EQ.0) GOTO 10
      ENDIF
 999  RETURN
 1000 FORMAT(/1X,'+++PRTABL+++ Bank ',A4,1X,I6,' has ',I3,
     &  ' columns and ',I6,' rows and the total length is ',I6)
      END
#endif
@


1.1.1.1
log
@import aleph212 from alws
@
text
@@
