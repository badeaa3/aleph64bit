head	1.2;
access;
symbols
	jul313_3:1.2
	jul313_2:1.2
	jul313_1:1.2
	jul313:1.2
	jul312_1:1.2
	jul312:1.2
	jul311:1.2
	jul310_1:1.2
	jul310:1.2
	jul309_1:1.2
	jul309:1.2
	jul308_6:1.2
	jul308_5:1.2
	jul308_4:1.2
	jul308_3:1.2
	jul308_2:1.2
	jul308_1:1.2
	jul308:1.2
	jul307_4:1.2
	jul307_3:1.2
	jul307_2:1.2
	jul307_1:1.2
	jul307:1.2
	jul306_3:1.2
	jul306_2:1.2
	jul306_1:1.2
	jul306:1.2
	jul305_4:1.2
	jul305_3:1.2
	jul305_2:1.2
	jul305_1:1.2
	jul305:1.2
	jul304_3:1.2
	jul304_2:1.2
	jul304_1:1.2
	jul304:1.2
	jul303_7:1.2
	jul303_6:1.2
	jul303_5:1.2
	jul303_4:1.2
	jul303_3:1.2
	jul303_2_mc1:1.2
	jul303_2:1.2
	jul303_1_mc1:1.2
	jul303_1:1.2
	jul303_v:1.1
	jul303:1.1
	jul302_6:1.1
	jul302_5:1.1
	jul302_4:1.1
	jul302_3:1.1
	jul302_2:1.1
	jul302_1:1.1
	jul302:1.1
	jul285_1:1.1
	jul285:1.1
	jul284_1:1.1
	jul284:1.1
	jul283_1:1.1
	jul283:1.1
	jul282_1:1.1
	jul282:1.1
	jul281_3:1.1
	jul281_2:1.1
	jul281_1:1.1
	jul281:1.1
	jul280_1:1.1
	jul280:1.1;
locks; strict;
comment	@c @;


1.2
date	97.06.03.10.31.31;	author cattanem;	state Exp;
branches;
next	1.1;

1.1
date	96.05.06.15.53.20;	author flr;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Fixes for julia 303.1
@
text
@      SUBROUTINE VDISMR
C ----------------------------------------------------------------------
C!  Sets up the appropriate smearing scheme
C!  depending on the datacard VDSM in the first call
C!  Thereafter, calls the appropriate smearing routine
C!
C -  Author         Manoj Thulasidas  27-MAR-1995
CKEY V_DECK VDET
C
C  Input :
C
C  Output :
C
C ----------------------------------------------------------------------
#ifndef DOC
#include "vdimpl.h"
#include "bcs.h"
      INTEGER NAMIND
      INTEGER KVSMR, NAVSMR, IACT
      INTEGER KVDHT, NAVDHT
      SAVE IACT, NAVDHT
      LOGICAL FIRST
      DATA FIRST/.TRUE./
      IF (FIRST) THEN
        FIRST = .FALSE.
C
C-- control by a data card VSMR = 0/none => call vdwsmr
C--                             = 1      => call vdosmr
C--                             = 2      => call vdalin
C--                             = -1     => no smearing at all
C
        NAVSMR = NAMIND('VSMR')
        KVSMR = IW(NAVSMR)
C
C-- If there is a VSMR card, the set up IACT
C
        IF (KVSMR.NE.0) IACT = IW(KVSMR+1)
C
C-- If the given IACT is not valid, set up the default
C
        IF (IACT.NE.1 .AND. IACT.NE.2 .AND. IACT.NE.-1) IACT = 0
C
C-- Print out the smearing scheme chosen
C
        IF (IACT.EQ.0)
     $    WRITE(IW(6),*)' VDISMR: WAFER (VDWSMR) smearing chosen'
        IF (IACT.EQ.1)
     $    WRITE(IW(6),*)' VDISMR: OLD (VDOSMR) smearing chosen'
        IF (IACT.EQ.2)
     $    WRITE(IW(6),*)' VDISMR: POSITION (VDALIN) smearing chosen'
        IF (IACT.EQ.-1)
     $    WRITE(IW(6),*)' VDISMR: no hit smearing'
C
C-- we have to make sure that the VDHT bank is there
C
        NAVDHT = NAMIND('VDHT')
      ENDIF
      KVDHT = IW(NAVDHT)
      IF (KVDHT.LE.0) THEN
        CALL RERROR('VDISMR',1,' No VDHT bank, skipping the event')
        GOTO 999
      ENDIF
      IF (IACT.EQ.0) CALL VDWSMR
      IF (IACT.EQ.1) CALL VDOSMR
      IF (IACT.EQ.2) CALL VDALIN
 999  RETURN
      END
#endif
@


1.1
log
@re-installed jul280 from the historian source because some routines were missing.
@
text
@d46 1
a46 1
     $     WRITE (6,*)' VDISMR:  WAFER (VDWSMR) smearing chosen'
d48 1
a48 1
     $     WRITE (6,*)' VDISMR:  OLD (VDOSMR) smearing chosen'
d50 1
a50 1
     $     WRITE (6,*)' VDISMR:  POSITION (VDALIN) smearing chosen'
d52 1
a52 1
     $     WRITE (6,*)' VDISMR:  no hit smearing'
@
