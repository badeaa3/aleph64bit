head	1.3;
access;
symbols
	alpha126_22:1.3
	alpha122_22:1.3
	alpha126_21:1.3
	alpha126_20:1.3
	alpha126_19:1.3
	alpha126_18:1.3
	alpha126_17:1.3
	alpha126_16:1.3
	alpha126_15:1.3
	alpha126_14:1.3
	alpha126_13:1.3
	alpha126_12:1.3
	alpha126_11:1.3
	alpha126_10:1.3
	alpha126_09:1.3
	alpha126_08:1.3
	alpha126_07:1.3
	alpha126_06:1.3
	alpha126_05:1.3
	alpha126_04:1.3
	alpha126_03:1.3
	alpha126_02:1.3
	alpha126_1:1.3
	alpha125_17:1.3
	alpha125_16:1.3
	alpha125_15:1.3
	alpha125_14:1.3
	alpha125_13:1.3
	alpha125_12:1.3
	alpha125_11:1.3
	alpha125_10:1.3
	alpha125_09:1.3
	alpha125_08:1.3
	alpha125_07:1.3
	alpha125_06:1.3
	alpha125_05:1.3
	alpha125_04:1.3
	alpha125_03:1.3
	alpha125_02:1.3
	alpha125_01:1.3
	alpha124_19:1.3
	alpha125:1.3
	alpha124_18:1.3
	alpha124_17:1.3
	alpha124_16:1.3
	alpha124_15:1.3
	alpha124_14:1.3
	alpha124_13:1.3
	alpha124_12:1.3
	alpha124_11:1.3
	alpha124_10:1.3
	alpha124_09:1.3
	alpha124_08:1.3
	alpha124_07:1.3
	alpha124_7:1.3
	alpha124_06:1.3
	alpha124_05:1.3
	alpha124_04:1.3
	alpha124_03:1.2
	alpha124_02:1.2
	alpha124_01:1.2;
locks; strict;
comment	@c @;


1.3
date	99.04.16.07.01.51;	author boucrot;	state Exp;
branches;
next	1.2;

1.2
date	99.03.22.15.06.39;	author boucrot;	state Exp;
branches;
next	1.1;

1.1
date	99.03.22.14.07.22;	author boucrot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@*** empty log message ***
@
text
@      SUBROUTINE MINRUN
C
CKEY MDST /INTERNAL
C-----------------------------------------------------------------------
C! Define run banks to be written for Mini-DST.
C
C     Author: Stephen Haywood      15-May-90
C     Modify: Stephen Haywood      08-Jun-90   v 3.0
C     Modify: Agnieszka Jacholkowska  1-Nov-1994
C             use mindtyp :           3-Nov-1998
C     Called by MINDST
C     More banks may be added from MINA card, interpreted by MINADD.
C     Also the nature of the data (MC or real) is determined.
C-----------------------------------------------------------------------
#ifndef DOC
C
#include "bcs.h"
#include "mincom.h"
C
      DIMENSION IPV(10),IAV(10)
      CHARACTER*4 BANK,NLIST
      INTEGER IDTYP
C-----------------------------------------------------------------------
C++   Determine whether this is a LEP1 or LEP2 data
C 
      IDTYP = 0      
      CALL MINDTYP(IDTYP)
      IF (IDTYP.GT.0) THEN
         WRITE (IW(6),'(//40X,''**** Mini-DST LEP'',I5,'' ****'')')
     &   IDTYP
      ELSE
         WRITE (IW(6),1234) IDTYP
 1234    FORMAT (//40X,'**** Mini-DST Unkown Type',I5,' ****')
      ENDIF
C
C++   Determine whether this is a Monte-Carlo file.
C++   Whether MC banks are written can be overridden by the NOMC card.
C
      CALL ALVSN(ITYP,IPV,IAV,IYR)
      IF (IPV(1).GT.0) THEN
         MINIMC = .TRUE.
      ELSE
         MINIMC = .FALSE.
      ENDIF
C
      IF(NLINK('NOMC',0).GT.0) MINIMC = .FALSE.
      IF(NLINK('NNMC',0).GT.0) MINIMC = .FALSE.
C
C++   Define banks on run record.
C++   For MC, copy C list.
C
      IF(MINIMC) THEN
         MLISTR = ' '
         DO 10 I=1,50
            BANK = NLIST(IW,I,'C')
            IF(BANK.EQ.' ') GOTO 15
   10    MLISTR(4*I-3:4*I) = BANK
   15    CONTINUE
      ELSEIF (IDTYP.EQ.2) THEN
         MLISTR = 'RUNR'//'RUNH'//'RALE'//'RLEP'//'RHAH'//'JSUM'//'SLUM'
     &          //'LEHI'//'LUMI'//'LBAK'//'LVHI'//'XTOP'//'XTYP'//'XTBN'
     &          //'ALPB'//'PLSC'//'TSSR'//'BLQP'//'X1TT'//'X3PS'//'KXME'
     &          //'PHHY'//'PCHY'//'PCPA'//'HT0C'//'HCLB'//'BCGN'
      ELSEIF (IDTYP.LE.1) THEN
         MLISTR = 'RUNR'//'RUNH'//'RALE'//'RLEP'//'RHAH'//'JSUM'//'SLUM'
     &          //'LEHI'//'LUMI'//'LBAK'//'LVHI'//'XTOP'//'XTYP'//'XTBN'
     &          //'ALPB'//'PLSC'//'TSSR'//'BLQP'//'X1TT'//'X3PS'//'KXME'
      ENDIF
      IF (INDEX(MLISTR,'DQIV').EQ.0)
     +    MLISTR=MLISTR(1:LNBLNK(MLISTR))//'DQIV'
C
      RETURN
      END
#endif
@


1.2
log
@*** empty log message ***
@
text
@d32 2
a33 2
         WRITE (IW(6),'(//40X,''**** Mini-DST Unkown Type'',I5,
     &        '' ****'')')  IDTYP
@


1.1
log
@*** empty log message ***
@
text
@d29 1
a29 1
         WRITE ((IW(6),'(//40X,''**** Mini-DST LEP'',I2,'' ****'')')
d32 1
a32 1
         WRITE (IW(6),'(//40X,''**** Mini-DST Unkown Type'',I2,
@
