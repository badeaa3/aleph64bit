head	1.3;
access;
symbols
	alpha126_22:1.3
	alpha122_22:1.3
	alpha126_21:1.3
	alpha126_20:1.3
	alpha126_19:1.3
	alpha126_18:1.3
	alpha126_17:1.3
	alpha126_16:1.3
	alpha126_15:1.3
	alpha126_14:1.3
	alpha126_13:1.3
	alpha126_12:1.3
	alpha126_11:1.3
	alpha126_10:1.3
	alpha126_09:1.3
	alpha126_08:1.3
	alpha126_07:1.2
	alpha126_06:1.1
	alpha126_05:1.1
	alpha126_04:1.1;
locks; strict;
comment	@c @;


1.3
date	2001.03.15.15.11.09;	author boucrot;	state Exp;
branches;
next	1.2;

1.2
date	2001.03.15.14.55.39;	author boucrot;	state Exp;
branches;
next	1.1;

1.1
date	2001.02.06.07.58.23;	author boucrot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@*** empty log message ***
@
text
@      subroutine qfkirev
C-----------------------------------------------------------------------
C  fills common  /kinruev / for kinrun statistics
C  called from QFILL
C-----------------------------------------------------------------------
      save
#include "qcde.h"
#include "evehjj.h"
#include "krsktrg.h"
#include "alrcom.h"
      character filic*12,filio*12,cartf*80,tape*6,filex*5
      data filio / '????????????' /
      data ipass,irunol / 0 , 0 /
C-----------------------------------------------------------------------
C First call : initialize common;
      if (ipass.eq.0) then
         ipass=1
         nrukin=0
         ifailmx=0
         filic=' '
         call vzero(lrukin,nrumx)
         do i=1,nrumx
            litrmi(i)=999999999
            litrmx(i)=-1
            filrlis(i)=' '
         enddo
      endif
C Never execute for real data :
      if (krun.gt.2000) go to 999
C standard processing:
C new cartridge read ?:
      jfili=nlink('FILI',NRFILI) 
      if (jfili.le.0) go to 999
      ndafi=iw(jfili)
      if (ndafi.le.0) go to 999
      call alstin(iw(jfili+1),ndafi,cartf)
      call qanfili(cartf,tape,filex)
      ltap=lnblnk(tape)
      lfil=lnblnk(filex)
      if (ltap.eq.0.or.lfil.eq.0) go to 999
      filic=tape(1:ltap)//'_'//filex(1:lfil)
      if (filic.ne.filio) then
         nrukin=nrukin+1
         if (nrukin.gt.nrumx) then
            ifailmx=1 
            nrukin=nrumx  
            go to 999
         endif
         irunol=krun
         lrukin(nrukin)=krun
         filrlis(nrukin)=filic
         filio=filic  
      endif
C event #:
      jeveh=iw(namind('EVEH'))
      if (jeveh.le.0) go to 999 
      itrig=iw(jeveh+jeveev)
      litrmi(nrukin)=min0(litrmi(nrukin),itrig)
      litrmx(nrukin)=max0(litrmx(nrukin),itrig)
C
 999  return
      END
@


1.2
log
@*** empty log message ***
@
text
@d4 1
a4 1
C
@


1.1
log
@*** empty log message ***
@
text
@d46 1
@

