head	1.4;
access;
symbols
	alpha126_22:1.4
	alpha122_22:1.4
	alpha126_21:1.4
	alpha126_20:1.4
	alpha126_19:1.4
	alpha126_18:1.4
	alpha126_17:1.4
	alpha126_16:1.4
	alpha126_15:1.4
	alpha126_14:1.4
	alpha126_13:1.4
	alpha126_12:1.4
	alpha126_11:1.4
	alpha126_10:1.4
	alpha126_09:1.4
	alpha126_08:1.4
	alpha126_07:1.4
	alpha126_06:1.4
	alpha126_05:1.4
	alpha126_04:1.4
	alpha126_03:1.4
	alpha126_02:1.4
	alpha126_1:1.4
	alpha125_17:1.4
	alpha125_16:1.4
	alpha125_15:1.4
	alpha125_14:1.4
	alpha125_13:1.4
	alpha125_12:1.4
	alpha125_11:1.4
	alpha125_10:1.4
	alpha125_09:1.4
	alpha125_08:1.4
	alpha125_07:1.4
	alpha125_06:1.4
	alpha125_05:1.4
	alpha125_04:1.4
	alpha125_03:1.4
	alpha125_02:1.4
	alpha125_01:1.4
	alpha124_19:1.4
	alpha125:1.4
	alpha124_18:1.4
	alpha124_17:1.4
	alpha124_16:1.4
	alpha124_15:1.4
	alpha124_14:1.4
	alpha124_13:1.4
	alpha124_12:1.4
	alpha124_11:1.4
	alpha124_10:1.4
	alpha124_09:1.4
	alpha124_08:1.4
	alpha124_07:1.4
	alpha124_7:1.4
	alpha124_06:1.4
	alpha124_05:1.4
	alpha124_04:1.4
	alpha124_03:1.4
	alpha124_02:1.4
	alpha124_01:1.4
	alpha124:1.3
	alpha123_12:1.3
	alpha123_11:1.3
	alpha123_10:1.3
	alpha123_9:1.3
	alpha123_8:1.3
	alpha123_7:1.3
	alpha123_6:1.2
	alpha123_5:1.2
	alpha123_4:1.1
	alpha123_3:1.1;
locks; strict;
comment	@c @;


1.4
date	99.03.22.14.10.30;	author boucrot;	state Exp;
branches;
next	1.3;

1.3
date	99.01.16.16.44.10;	author boucrot;	state Exp;
branches;
next	1.2;

1.2
date	98.11.05.09.35.36;	author boucrot;	state Exp;
branches;
next	1.1;

1.1
date	98.10.27.13.26.55;	author boucrot;	state Exp;
branches;
next	;


desc
@@


1.4
log
@*** empty log message ***
@
text
@      SUBROUTINE QMININC(IER)
C
CKEY INIT CARDS /INTERNAL
C-----------------------------------------------------------------------
C! Data cards default initialisation for official MINI making
C  Called from QMCARD
C     Author: J. Boucrot       23-Sep-98
C
C Output argument :
C  IER = 0 if all OK
C      = 1 if no room to book banks
C
C-----------------------------------------------------------------------
#ifndef DOC
#include "bcs.h"
#include "minprd.h"
C-----------------------------------------------------------------------
      IER=0
      IMIPRD=0
C Do-nothing if 'MINP' card not present :
      IF (IW(NAMIND('MINP')).LE.0) GO TO 999
      IMIPRD=1
C Drop all existing MINI-production-related banks :
      CALL BDROP(IW,'MINIEFLJQFNDCOMPQLID')
      CALL BDROP(IW,'LSHDLSETLSECLSCVLSMTLSMCLSJT')
      CALL QWMESS('_QMININC_ Setting up MINI production cards')
C
C Initialise the MINI card :
C
      CALL AUBOS('MINI',0,0,JMINI,IGARB)
      IF (IGARB.EQ.2) GO TO 900
C
C Initialise data card for Energy Flow :
C EFLJ                  ! ENFLW and Jets                                        
C
      CALL AUBOS('EFLJ',0,0,JEFLJ,IGARB)
      IF (IGARB.EQ.2) GO TO 900
C
C Initialise data card for QFNDIP :
C QFND                  ! call QFNDIP
C
      CALL AUBOS('QFND',0,0,JQFND,IGARB)
      IF (IGARB.EQ.2) GO TO 900
C
C Initialise the Unpacking for MINIs (PTPX bank) :
C UNPK  'AL SO'
C
      CALL BKFMT('UNPK','2A')
      CALL AUBOS('UNPK',0,2,JUNPK,IGARB)
      IF (IGARB.EQ.2) GO TO 900   
      IW(JUNPK+1)=INTCHA('AL S')
      IW(JUNPK+2)=INTCHA('O   ')
C
C Initialise data compression card :                                           
C COMP 'INTE' 'NOFM'                                                             
C
      CALL BKFMT('COMP','2A')
      CALL AUBOS('COMP',0,2,JCOMP,IGARB)
      IF (IGARB.EQ.2) GO TO 900
      IW(JCOMP+1)=INTCHA('INTE')
      IW(JCOMP+2)=INTCHA('NOFM')
C
C Initialise data card to trigger the execution of QSELEP :
C QLID                                                                            
C
      CALL AUBOS('QLID',0,0,JQLID,IGARB)
      IF (IGARB.EQ.2) GO TO 900
C
C --------- Initialise data cards for QSELEP selection cuts --------
C These cuts are different from the default ones of ALPHA ----------
C  
C Initialise data card LSHD for QSELEP :
C-- *  #tracks e_frac #tpc  d0   z0   cos(theta_max)                             
C LSHD    5     0.10    4  2.0  10.0    0.95                                      
C
      CALL BKFMT('LSHD','I,F,I,3F')
      LLSHD = 6
      CALL AUBOS('LSHD',0,LLSHD,JLSHD,IGARB)
      IF (IGARB.EQ.2) GO TO 900
      IW(JLSHD+1) = 5
      RW(JLSHD+2) = 0.10
      IW(JLSHD+3) = 4
      RW(JLSHD+4) = 2.0
      RW(JLSHD+5) = 10.0
      RW(JLSHD+6) = 0.95
C
C Initialise data card LSET for QSELEP :
C
C--   User card for track selection electron candidates                         
C--                                                                             
C-- *   #tpc  d0   z0   cos(the_max)  p   p_t                                    
C LSET    5  2.0  10.0    0.95       2.0  0.0                                     
C
      CALL BKFMT('LSET','I,5F')
      LLSET = 6
      CALL AUBOS('LSET',0,LLSET,JLSET,IGARB)
      IF (IGARB.EQ.2) GO TO 900
      IW(JLSET+1) = 5
      RW(JLSET+2) = 2.0
      RW(JLSET+3) = 10.0
      RW(JLSET+4) = 0.95
      RW(JLSET+5) = 2.0
      RW(JLSET+6) = 0.0
C
C Initialise data card LSEC for QSELEP :
C--                                                                             
C--   User card electron identification cuts                                    
C--                                                                             
C-- *   rt_min rt_max rl_min rl_max #wires ri_min ri_max                         
C LSEC   -3.0   999.0  -3.0   3.0      0    -999.  999.                           
C
      CALL BKFMT('LSEC','4F,I,2F')
      LLSEC = 7
      CALL AUBOS('LSEC',0,LLSEC,JLSEC,IGARB)
      IF (IGARB.EQ.2) GO TO 900
      RW(JLSEC+1) = -3.0
      RW(JLSEC+2) = 999.0
      RW(JLSEC+3) = -3.0
      RW(JLSEC+4) = 3.0
      IW(JLSEC+5) = 0
      RW(JLSEC+6) = -999.
      RW(JLSEC+7) = 999.
C
C Initialise data card LSCV for QSELEP :
C--                                                                             
C--   User card rejection of photon conversions and dalitz decays               
C--                                                                             
C-- *  XY_max Z_max  M_max   W_conv(1=write,0=reject)                            
C LSCV   1.0    1.0   0.020   1                                                   
C--                                                                             
      CALL BKFMT('LSCV','3F,I')
      LLSCV = 4
      CALL AUBOS('LSCV',0,LLSCV,JLSCV,IGARB)
      IF (IGARB.EQ.2) GO TO 900
      RW(JLSCV+1) = 1.0
      RW(JLSCV+2) = 1.0
      RW(JLSCV+3) = 0.020
      IW(JLSCV+4) = 1
C
C Initialise data cards LSMT for QSELEP :
C--                                                                             
C--   User card for track selection muon candidates                             
C--                                                                             
C-- *  #TPC  d0   z0   cos(the_max)  p   p_t                                     
C LSMT    5  2.0  10.0    0.95       3.0  0.0                                     
C
      CALL BKFMT('LSMT','I,5F')
      LLSMT = 6
      CALL AUBOS('LSMT',0,LLSMT,JLSMT,IGARB)
      IF (IGARB.EQ.2) GO TO 900
      IW(JLSMT+1) = 5
      RW(JLSMT+2) = 2.0      
      RW(JLSMT+3) = 10.0
      RW(JLSMT+4) = 0.95
      RW(JLSMT+5) = 3.0 
      RW(JLSMT+6) = 0.0
C
C Initialise data card LSMC for QSELEP :
C
C--   User card muon identification cuts                                        
C--                                                                             
C-- *  QMUIDO return flags accepted                                             
C LSMC   13  14                                                                   
C--                                                                             
      LLSMC = 2
      CALL AUBOS('LSMC',0,LLSMC,JLSMC,IGARB)
      IF (IGARB.EQ.2) GO TO 900
      IW(JLSMC+1) = 13
      IW(JLSMC+2) = 14
C
C Initilalise data card LSJT for QSELEP :
C--                                                                             
C--   User card jet cuts                                                        
C--                                                                             
C-- *  #objects/jet  Max P(lepton)/E(jet) #jets   Jet Ycut  Jrej                 
C--                                                       1=keep,0=cut          
C LSJT      5                 0.9            2     0.004       1                  
C
      CALL BKFMT('LSJT','I,F,I,F,I')
      LLSJT = 5
      CALL AUBOS('LSJT',0,LLSJT,JLSJT,IGARB)
      IF (IGARB.EQ.2) GO TO 900
      IW(JLSJT+1) = 5
      RW(JLSJT+2) = 0.9 
      IW(JLSJT+3) = 2
      RW(JLSJT+4) = 0.004
      IW(JLSJT+5) = 1
C
      GO TO  999
C
C No space to book banks :
C
 900  IER=1
C
 999  RETURN
      END
#endif
@


1.3
log
@*** empty log message ***
@
text
@d16 1
d19 1
d22 1
@


1.2
log
@*** empty log message ***
@
text
@d42 9
@


1.1
log
@*** empty log message ***
@
text
@d21 1
a21 1
      CALL BDROP(IW,'MINIMPRIDEBUEFLJQFNDCOMPQLID')
a28 10
C
C Initialise printout data cards:
C MPRI 0                                                              
C DEBU 0
      CALL AUBOS('MPRI',0,1,JMPRI,IGARB)
      IF (IGARB.EQ.2) GO TO 900
      IW(JMPRI+1)=0
      CALL AUBOS('DEBU',0,1,JDEBU,IGARB)
      IF (IGARB.EQ.2) GO TO 900
      IW(JDEBU+1)=0
@
