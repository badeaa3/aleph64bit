head	1.3;
access;
symbols
	alpha122_41:1.2
	alpha122_40:1.2
	alpha122_39:1.2
	alpha122_38:1.2
	alpha122_37:1.2
	alpha122_36:1.1.1.1
	alpha122_35:1.1.1.1
	alpha122_34:1.1.1.1
	alpha122_33:1.1.1.1
	alpha122_32:1.1.1.1
	alpha122_31:1.1.1.1
	alpha122_30:1.1.1.1
	alpha122_29:1.1.1.1
	alpha122_28:1.1.1.1
	alpha122_27:1.1.1.1
	alpha122_26:1.1.1.1
	alpha122_25:1.1.1.1
	alpha122_24:1.1.1.1
	alpha122_23:1.1.1.1
	alpha122_22:1.1.1.1
	alpha122_21:1.1.1.1
	alpha122_20:1.1.1.1
	alpha122_19:1.1.1.1
	alpha122_18:1.1.1.1
	alpha122_17:1.1.1.1
	alpha122_16:1.1.1.1
	alpha122_15:1.1.1.1
	alpha122_14:1.1.1.1
	alpha122_13:1.1.1.1
	alpha122_12:1.1.1.1
	alpha122_11:1.1.1.1
	alpha122_10:1.1.1.1
	alpha122_9:1.1.1.1
	alpha122_8:1.1.1.1
	alpha122_6:1.1.1.1
	alpha122_5:1.1.1.1
	alpha122:1.1.1.1
	alpha212:1.1.1.1
	ALPHA212:1.1.1;
locks; strict;
comment	@c @;


1.3
date	98.01.19.09.01.09;	author boucrot;	state dead;
branches;
next	1.2;

1.2
date	97.10.08.08.01.19;	author boucrot;	state Exp;
branches;
next	1.1;

1.1
date	96.03.14.12.42.25;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.03.14.12.42.26;	author flr;	state Exp;
branches;
next	;


desc
@@


1.3
log
@*** empty log message ***
@
text
@      LOGICAL FUNCTION XVDEOK(DUMMY)
C----------------------------------------------------------------------
C!   Determine HV state of VDET.
CKEY VDET /USER
C!
C!   Author   : HCJ Seywerd            2-AUG-1991
C!   Modified : S Haywood              9-NOV-1992
C!   Modified : H. Seywerd             2-OCT-1997
C!
C!   Outputs: .TRUE. if the HV state of the VDET is ON.
C!            For MC always .TRUE.
C!======================================================================
#ifndef DOC
#include "qcdesh.h"
      LOGICAL XLOCK,XLOCKN
#include "revhjj.h"
#include "bmacro.h"
C----------------------------------------------------------------------
      XVDEOK = .FALSE.
C
C++   For MC, always .TRUE.
C
      IF (KRUN.LT.2000) THEN
         XVDEOK = .TRUE.
         RETURN
      ENDIF
C
C++   Is this in a bad period when readout was blocked ?
C++   If so, check noise to determine HV state.
C
      KGOOD = KVGOOD(DUMMY)
      IF (KGOOD.NE.0) THEN
         IF (KGOOD.EQ.+1) XVDEOK = .TRUE.
         RETURN
      ENDIF
C
C++   Check HV bit in REVH directly.
C++   Note the bit definition changed mid-1991.
C++   Changed again for LEPII (fix inserted 2-10-1997)
      KREVH = IW(NAREVH)
      IF (KREVH.LE.0) RETURN
C
      JHVST = ITABL(KREVH,1,JREVDS)
      IF (KRUN.LT.12089) THEN
         IBVD = 12
      ELSEIF (KRUN.GT.41000) THEN
         IBVD = 12
      ELSE
         IBVD = 21
      ENDIF
      XVDEOK = BTEST(JHVST,IBVD)
C
      RETURN
      END
#endif
@


1.2
log
@*** empty log message ***
@
text
@@


1.1
log
@Initial revision
@
text
@d8 1
d39 1
a39 1
C
d45 2
@


1.1.1.1
log
@import alpha122 from alws
@
text
@@
