head	1.2;
access;
symbols
	gal309_3:1.2
	gal309_2:1.2
	gal309_1:1.2
	gal309:1.2
	gal308_2:1.2
	gal308_1:1.2
	gal308:1.2
	gal307_2:1.2
	gal307_1:1.2
	gal307:1.2
	gal306_3:1.2
	gal306_2:1.2
	gal306_1:1.2
	gal306:1.2
	gal305_3:1.2
	gal305_2:1.2
	gal305_1:1.2
	gal305:1.2
	gal304_11:1.2
	gal304_10:1.2
	gal304_9:1.2
	gal304_8:1.2
	gal304_7:1.2
	gal304_6:1.2
	gal304_5:1.2
	gal304_4:1.2
	gal304_3:1.2
	gal304_2:1.2
	gal304_1:1.2
	gal304:1.2
	gal303_3:1.2
	gal303_2:1.2
	gal303_1:1.2
	v-303:1.2
	gal302_2:1.2
	flr:1.1.1;
locks; strict;
comment	@c @;


1.2
date	95.06.29.16.12.24;	author flr;	state Exp;
branches;
next	1.1;

1.1
date	94.12.07.14.02.01;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	94.12.07.14.02.02;	author flr;	state Exp;
branches;
next	;


desc
@@


1.2
log
@release galeph 302
 Modified files:
 gadoc.doc itdoc.doc
 adinit.F adrz.F adview.F adxy.F gaxeph.F
 ecasig.F ecbook.F ecdigi.F echit.F ecirun.F ecista.F ecnami.F
 ectrig.F ecwsum.F edfilh.F edinip.F edtadj.F edtain.F edtcor.F
 edtcut.F edtdig.F edtono.F edtrgi.F edtzsu.F edwbru.F edwdgt.F
 ehbari.F ehcutg.F eprimi.F
 Removed Files:
 guinti.F
@
text
@*DK ecasig
      SUBROUTINE ECASIG
C----------------------------------------------------------------------
C    Y. Karyotakis 11-3-86   End of Tracking
C! Reduce Hits banks
C - Calls : WDROP                                       from BOSlib
C           AUBPRS                                      from ALEPHLIB
C           CAFIHT                                      from this .HLB
C ----------------------------------------------------
#ifndef DOC
      SAVE
#include "jobcom.h"
#include "bcs.h"
#include "ecnamc.h"
#include "ecstat.h"
      INTEGER CAFIHT
      LOGICAL FDEB
#include "bmacro.h"
C ------------------------------------------------------------
      FDEB = FDEBJO .AND. IPRIJO(4).EQ.1
C
C - drop working bank IDPSIG and reduce size to real one
C
      CALL WDROP (IW,IDPSIG)
      CALL AUBPRS('ESHIEWHI')
      IF(FDEB) THEN
        CALL PRTABL('ESHI',0)
        CALL PRTABL('EWHI',0)
      ENDIF
C
C     Create wires bank
C
      JETHT = CAFIHT (NAESHI,'ETHT')
      IF (JETHT.EQ.0) GOTO 998
      IF (FDEB) CALL PRTABL ('ETHT',0)
C
C - Create tower bank
C
      JEWHT = CAFIHT (NAEWHI,'EWHT')
      IF (JEWHT.EQ.0) GOTO 998
      IF (FDEB) CALL PRTABL ('EWHT',0)
C
C Statistics
C
C    if FHISJO(4)=.TRUE, then fill histograms
C
       IF(FHISJO(4)) THEN
           IDSKI=439
           WSKI=1.
           SKIZ=0.
           DO 123 I=21,30,1
               ECCONT(I)=ECCONT(I)/1000
123        CONTINUE
           CALL HFILL(IDSKI+2,ECCONT(21),SKIZ,WSKI)
           CALL HFILL(IDSKI+3,ECCONT(22),SKIZ,WSKI)
           CALL HFILL(IDSKI+4,ECCONT(23),SKIZ,WSKI)
           CALL HFILL(IDSKI+5,ECCONT(24),SKIZ,WSKI)
           CALL HFILL(IDSKI+6,ECCONT(26),ECCONT(25),WSKI)
           CALL HFILL(IDSKI+7,ECCONT(27),SKIZ,WSKI)
           CALL HFILL(IDSKI+10,ECCONT(27),SKIZ,WSKI)
           CALL HFILL(IDSKI+11,ECCONT(28),SKIZ,WSKI)
           CALL HFILL(IDSKI+12,ECCONT(29),SKIZ,WSKI)
           CALL HFILL(IDSKI+13,ECCONT(30),SKIZ,WSKI)
       ENDIF
C
      KETHT = IW(NAETHT)
      NTOWR = LROWS (KETHT)
      NECONT(4) = NECONT(4) + NTOWR
      IF (NTOWR.GT.0)   NECONT(1) = NECONT(1) + 1
      EEVT = VSUM(ECCONT,3)/1000000.
      ECCONT(7) = ECCONT(7) + EEVT
      ECCONT(8) = ECCONT(8) + EEVT**2
      DO 10 I=1,3
   10 ECCONT(I+3) = ECCONT(I+3) + ECCONT(I)/1000000.
      DO 11 I=1,3
   11 ECCONT(I) = 0.
 980  RETURN
C
C - not enough space
C
 998  CONTINUE
      CALL ALTELL ('ECASIG: not enough space for HIT banks ',1,'NEXT')
      END
#endif
@


1.1
log
@Initial revision
@
text
@d9 1
a9 1
C -------------------------------------------------------------------
d11 1
@


1.1.1.1
log
@import galeph 300
@
text
@@
