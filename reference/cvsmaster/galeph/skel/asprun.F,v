head	1.3;
access;
symbols
	gal309_3:1.3
	gal309_2:1.3
	gal309_1:1.3
	gal309:1.3
	gal308_2:1.3
	gal308_1:1.3
	gal308:1.3
	gal307_2:1.3
	gal307_1:1.3
	gal307:1.3
	gal306_3:1.3
	gal306_2:1.3
	gal306_1:1.3
	gal306:1.3
	gal305_3:1.3
	gal305_2:1.3
	gal305_1:1.3
	gal305:1.3
	gal304_11:1.3
	gal304_10:1.3
	gal304_9:1.3
	gal304_8:1.3
	gal304_7:1.3
	gal304_6:1.3
	gal304_5:1.3
	gal304_4:1.3
	gal304_3:1.3
	gal304_2:1.3
	gal304_1:1.3
	gal304:1.3
	gal303_3:1.3
	gal303_2:1.3
	gal303_1:1.3
	v-303:1.3
	gal302_2:1.3
	flr:1.1.1;
locks; strict;
comment	@c @;


1.3
date	95.06.30.07.13.37;	author flr;	state Exp;
branches;
next	1.2;

1.2
date	95.02.06.15.20.35;	author algal;	state Exp;
branches;
next	1.1;

1.1
date	94.12.07.14.01.46;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	94.12.07.14.01.47;	author flr;	state Exp;
branches;
next	;


desc
@@


1.3
log
@release galeph 302
 Modified files:
 gadoc.doc itdoc.doc
 adinit.F adrz.F adview.F adxy.F gaxeph.F
 ecasig.F ecbook.F ecdigi.F echit.F ecirun.F ecista.F ecnami.F
 ectrig.F ecwsum.F edfilh.F edinip.F edtadj.F edtain.F edtcor.F
 edtcut.F edtdig.F edtono.F edtrgi.F edtzsu.F edwbru.F edwdgt.F
 ehbari.F ehcutg.F eprimi.F
 galeph.F qnext.F
 agbeam.F agchck.F agcoil.F agecal.F agecpm.F ageome.F aggean.F
 aghcal.F agitch.F aglcal.F agmate.F agmedi.F agmuch.F agquad.F
 agscal.F agsmba.F agtpch.F
 gstmed.F guhadr.F guphad.F gustep.F gutrak.F
 cahtra.h gmacro.h lccomc.h lcnamc.h ljjpar.h siconst.h
 sigeco.h version.h
 itmsk1.F itmsk2.F itnois.F itres.F itxtlk.F
 lcadc.F lcamp.F lcasig.F lcbhab.F lcbkpr.F lcdigi.F lcfral.F
 lchit.F lcirun.F lcnami.F lcnois.F lcpad.F lcroc.F lcsamp.F
 lcsatu.F lcshow.F lcstrt.F lctrak.F lctrdi.F lctrht.F lcwire.F
 lcwsum.F lcwtri.F
 muasig.F mubook.F muirun.F muunoi.F muwsum.F
 trignews.h
 siasig.F sitrak.F siwsum.F
 asasig.F asbook.F ascjob.F ascrun.F asctra.F asevst.F asfxxx.F
 asieve.F asigea.F asijob.F asimod.F asinit.F asipac.F asirun.F
 askine.F asksin.F asktrk.F aspeve.F asprun.F asread.F asredc.F
 asreve.F asrkin.F asrtyp.F asrust.F astdeb.F astgea.F astrac.F
 astrig.F aswkin.F aswrtp.F aswsum.F
 Removed Files:
 guinti.F
 aggatt.F aggord.F
 xtrcom.h
 ecalnews.h geomnews.h lcalnews.h news.h skelnews.h vdetnews.h
@
text
@*DK asprun
      SUBROUTINE ASPRUN
C ---------------------------------------------------------------------
C - F.RANJARD - 850326
C! Loop over events
C. - called by    GALEPH                                 from this .HLB
C. - calls        ASIEVE, ASPEVE, ASCEVE, ASCRUN, ASRRUN from this .HLB
C.                ABRSEL, ABWSEL                         from ALEPHLIB
C -------------------------------------------------------------------
#ifndef DOC
C ----------------------------------------------------------------------
C
C - initialize event in GEANT framework
C
 1    CONTINUE
      CALL ASIEVE
C
C - Process this event : following the flags set
C   Go to next event if End Of Event
C   Stop if End Of Run.
C
      CALL ASPEVE
C
C - Close this event : statistics, trigger, analysis
C
      CALL ASCEVE
      GOTO 1
C
       END
#endif
@


1.2
log
@je nesais plus
remove include BMACRO
equivalence (NAPART,NAPAR) to cope with KMACRO
je ne sais plus
@
text
@a2 1
#ifndef INTER
a10 3
#include "jqcom.h"
#include "jobcom.h"
      DATA NANEVT /0/
d13 1
a13 1
      IF (NANEVT.EQ.0) NANEVT = NAMIND('NEVT')
d15 2
a16 65
C - get one record or initialize BOS
C
    1 IF (MGETJO .GT.0) THEN
   10   CALL ABRSEL ('E','    ',IRET)
        IF (IRET.EQ.1) GOTO 100
        IF (IRET.GT.3) THEN
          IF (IRET.EQ.9) THEN
            CALL ALTELL ('ASPRUN: Time limit reached',0,'END')
          ELSEIF (IRET.EQ.8) THEN
            CALL ALTELL ('ASPRUN:  End of selected events',0,'END')
          ELSEIF (IRET.EQ.7) THEN
            CALL ALTELL ('ASPRUN:  Last event reached',0,'END')
          ELSEIF (IRET.EQ.6) THEN
            CALL ALTELL ('ASPRUN:  No more input file',0,'END')
          ELSEIF (IRET.LE.16) THEN
            CALL ALTELL ('ASPRUN:  Cannot open input or output file'
     &                              ,0,'END')
          ELSEIF (IRET.EQ.19) THEN
            CALL ALTELL ('ASPRUN:  Not enough space for unpacking',0
     &                              ,'RETURN')
          ELSEIF (IRET.EQ.17) THEN
            CALL ALTELL ('ASPRUN:  Read error-try again',0,'RETURN')
          ELSEIF (IRET.EQ.18) THEN
            CALL ALTELL ('ASPRUN: Error in decompressing-next',0
     &                              ,'RETURN')
          ENDIF
          GOTO 10
        ENDIF
C
        IF (IRET.EQ.3) THEN
C        unknown record
          IF (IPRIJO(15).EQ.1) CALL AUBLIS ('E')
          IF (MSAVJO.GT.0) CALL ASWRTP('E')
C
        ELSEIF (IRET.EQ.2) THEN
          IF (IPRIJO(15).EQ.1) CALL AUBLIS ('C')
C        run record : header or end
          IF (IW(NARUNE).NE.0) THEN
            CALL ASCRUN
          ELSEIF (IW(NARUNH).NE.0) THEN
            CALL ASIRUN
          ENDIF
        ENDIF
        GOTO 10
      ELSE
C      no input file
        CALL BDROP (IW,'T')
        CALL BDROP (IW,'E')
        CALL BLIST (IW,'T=','0')
        CALL BLIST (IW,'E=','EVEH')
        CALL BGARB (IW)
        IF (NEVTJO.GE.IW(IW(NANEVT)+1)) THEN
           CALL ALTELL ('ASPRUN: last event reached ',0,'END')
        ENDIF
        CALL TIMAL(TIMEJO(2))
        IF (TIMEJO(2).LT.TIMLJO) THEN
           CALL ALTELL ('ASPRUN: time limit ',0,'END')
        ENDIF
      ENDIF
C
C - Initialize event : reset flags and variables for this event
C   get input event if any.
C   set random generator if required, reset banks.
C
  100 CALL ASIEVE
a30 31
#endif
#if defined(INTER)
C -------------------------------------------------------------------
C - B.BLOCH - 850910
C - Process run interactive version
C ------------------------------------------------------------------
#ifndef DOC
#include "iocom.h"
C ------------------------------------------------------------------
C
C
C       Initialize Interactive package
C
      CALL GINTRI
C                 Keep starting time
C
      CALL TIMAL(TIMIN)
      WRITE(LOUTIO,200)
C
C  Give control to the interactive control routine
C
      CALL KUEXEC('SET/PROMPT GALEPH>')
      CALL KUWHAT
C
       RETURN
 200  FORMAT(' ========> GEANT now ready , You can type your commands' )
       END
#endif
#endif


@


1.1
log
@Initial revision
@
text
@d127 2
@


1.1.1.1
log
@import galeph 300
@
text
@@
