head	1.3;
access;
symbols
	gal309_3:1.3
	gal309_2:1.3
	gal309_1:1.3
	gal309:1.3
	gal308_2:1.3
	gal308_1:1.3
	gal308:1.3
	gal307_2:1.3
	gal307_1:1.3
	gal307:1.3
	gal306_3:1.3
	gal306_2:1.3
	gal306_1:1.3
	gal306:1.3
	gal305_3:1.3
	gal305_2:1.3
	gal305_1:1.3
	gal305:1.3
	gal304_11:1.3
	gal304_10:1.3
	gal304_9:1.3
	gal304_8:1.3
	gal304_7:1.3
	gal304_6:1.3
	gal304_5:1.3
	gal304_4:1.3
	gal304_3:1.3
	gal304_2:1.3
	gal304_1:1.3
	gal304:1.3
	gal303_3:1.3
	gal303_2:1.2
	gal303_1:1.2
	v-303:1.2
	gal302_2:1.2
	flr:1.1.1;
locks; strict;
comment	@c @;


1.3
date	96.05.08.10.22.28;	author flr;	state Exp;
branches;
next	1.2;

1.2
date	95.06.30.07.13.06;	author flr;	state Exp;
branches;
next	1.1;

1.1
date	94.12.07.14.01.42;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	94.12.07.14.01.43;	author flr;	state Exp;
branches;
next	;


desc
@@


1.3
log
@replace TIMAx by TIMEx
@
text
@*DK asctra
      SUBROUTINE ASCTRA
C ------------------------------------------------------------------
C - F.Ranjard - 860926
C!  Close tracking process
C - Copy GEANT kinematic banks to VERT and KINE banks
C - Print tracking summary if required
C - Called by   ASTRAC                          from this .HLB
C - Calls       PRKINE, ASWKIN                  from this .HLB
C               HFILL, TIMED                    from CERNLIB
C ---------------------------------------------------------
#ifndef DOC
      SAVE
#include "iocom.h"
#include "jobcom.h"
#include "jqcom.h"
#include "gcnum.h"
#include "kincom.h"
      DIMENSION NWORD(LST2)
#include "bmacro.h"
C --------------------------------------------------------------------
C
C - build 'VERT' and 'KINE' banks
C
      CALL ASWKIN
C
C - Compact 'IMPA' banks if required
C
      IF (FGALJO) CALL AUBPRS ('KVOLIMPA')
C
C - Fill pseudo histograms NSTAJO : 1 - total # of tracks / event
C                                   2 - long life tracks / event
C                                   3 - max. stack size / event
      NWORD(1)=NGTMUL
      NWORD(2)=NGTRAC
      NWORD(3)=NGSTMA
      DO 1 I =1,LST2
         N = (NWORD(I)+MBINJO(I)-1)/MBINJO(I)
         IF (N.LE.0) THEN
            NSTAJO(LBIN+1,I) = NSTAJO(LBIN+1,I) + 1
         ELSE IF (N.GT.LBIN) THEN
            NSTAJO(LBIN+2,I) = NSTAJO(LBIN+2,I) + 1
         ELSE
            NSTAJO(N,I) = NSTAJO(N,I) + 1
         ENDIF
         NSTAJO(LBIN+3,I) = MAX (NWORD(I),NSTAJO(LBIN+3,I))
 1    CONTINUE
C
C - Debug
C
      IF (FDEBJO) THEN
         CALL TIMED (TIMEJO(4))
         P = ECMSKI
         WRITE(LOUTIO,801) NEVTJO,P,NGVERT,NGTMUL,NGTRAC,TIMEJO(4)
 801     FORMAT (/1X,'+++ASCTRA+++ EVENT#',I5,' P =',F7.3,' GEV',
     &               '  # of vertices =',I5,'  # of tracks =',I6,
     2              '  # of primaries =',I5,'  time used =',F9.3,' sec')
C
         IF(IPRIJO(16).EQ.1) THEN
            CALL PRKINE
            CALL PRIMPA
         ENDIF
      ENDIF
C
      RETURN
      END
#endif
@


1.2
log
@release galeph 302
 Modified files:
 gadoc.doc itdoc.doc
 adinit.F adrz.F adview.F adxy.F gaxeph.F
 ecasig.F ecbook.F ecdigi.F echit.F ecirun.F ecista.F ecnami.F
 ectrig.F ecwsum.F edfilh.F edinip.F edtadj.F edtain.F edtcor.F
 edtcut.F edtdig.F edtono.F edtrgi.F edtzsu.F edwbru.F edwdgt.F
 ehbari.F ehcutg.F eprimi.F
 galeph.F qnext.F
 agbeam.F agchck.F agcoil.F agecal.F agecpm.F ageome.F aggean.F
 aghcal.F agitch.F aglcal.F agmate.F agmedi.F agmuch.F agquad.F
 agscal.F agsmba.F agtpch.F
 gstmed.F guhadr.F guphad.F gustep.F gutrak.F
 cahtra.h gmacro.h lccomc.h lcnamc.h ljjpar.h siconst.h
 sigeco.h version.h
 itmsk1.F itmsk2.F itnois.F itres.F itxtlk.F
 lcadc.F lcamp.F lcasig.F lcbhab.F lcbkpr.F lcdigi.F lcfral.F
 lchit.F lcirun.F lcnami.F lcnois.F lcpad.F lcroc.F lcsamp.F
 lcsatu.F lcshow.F lcstrt.F lctrak.F lctrdi.F lctrht.F lcwire.F
 lcwsum.F lcwtri.F
 muasig.F mubook.F muirun.F muunoi.F muwsum.F
 trignews.h
 siasig.F sitrak.F siwsum.F
 asasig.F asbook.F ascjob.F ascrun.F asctra.F asevst.F asfxxx.F
 asieve.F asigea.F asijob.F asimod.F asinit.F asipac.F asirun.F
 askine.F asksin.F asktrk.F aspeve.F asprun.F asread.F asredc.F
 asreve.F asrkin.F asrtyp.F asrust.F astdeb.F astgea.F astrac.F
 astrig.F aswkin.F aswrtp.F aswsum.F
 Removed Files:
 guinti.F
 aggatt.F aggord.F
 xtrcom.h
 ecalnews.h geomnews.h lcalnews.h news.h skelnews.h vdetnews.h
@
text
@d10 1
a10 1
C               HFILL, TIMAD                    from CERNLIB
d52 1
a52 1
         CALL TIMAD (TIMEJO(4))
@


1.1
log
@Initial revision
@
text
@d11 1
a11 1
C -----------------------------------------------------------------
d13 1
@


1.1.1.1
log
@import galeph 300
@
text
@@
