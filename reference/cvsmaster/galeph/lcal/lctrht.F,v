head	1.2;
access;
symbols
	gal309_3:1.2
	gal309_2:1.2
	gal309_1:1.2
	gal309:1.2
	gal308_2:1.2
	gal308_1:1.2
	gal308:1.2
	gal307_2:1.2
	gal307_1:1.2
	gal307:1.2
	gal306_3:1.2
	gal306_2:1.2
	gal306_1:1.2
	gal306:1.2
	gal305_3:1.2
	gal305_2:1.2
	gal305_1:1.2
	gal305:1.2
	gal304_11:1.2
	gal304_10:1.2
	gal304_9:1.2
	gal304_8:1.2
	gal304_7:1.2
	gal304_6:1.2
	gal304_5:1.2
	gal304_4:1.2
	gal304_3:1.2
	gal304_2:1.2
	gal304_1:1.2
	gal304:1.2
	gal303_3:1.2
	gal303_2:1.2
	gal303_1:1.2
	v-303:1.2
	gal302_2:1.2
	flr:1.1.1;
locks; strict;
comment	@c @;


1.2
date	95.06.30.07.09.02;	author flr;	state Exp;
branches;
next	1.1;

1.1
date	94.12.07.14.02.37;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	94.12.07.14.02.38;	author flr;	state Exp;
branches;
next	;


desc
@@


1.2
log
@release galeph 302
 Modified files:
 gadoc.doc itdoc.doc
 adinit.F adrz.F adview.F adxy.F gaxeph.F
 ecasig.F ecbook.F ecdigi.F echit.F ecirun.F ecista.F ecnami.F
 ectrig.F ecwsum.F edfilh.F edinip.F edtadj.F edtain.F edtcor.F
 edtcut.F edtdig.F edtono.F edtrgi.F edtzsu.F edwbru.F edwdgt.F
 ehbari.F ehcutg.F eprimi.F
 galeph.F qnext.F
 agbeam.F agchck.F agcoil.F agecal.F agecpm.F ageome.F aggean.F
 aghcal.F agitch.F aglcal.F agmate.F agmedi.F agmuch.F agquad.F
 agscal.F agsmba.F agtpch.F
 gstmed.F guhadr.F guphad.F gustep.F gutrak.F
 cahtra.h gmacro.h lccomc.h lcnamc.h ljjpar.h siconst.h
 sigeco.h version.h
 itmsk1.F itmsk2.F itnois.F itres.F itxtlk.F
 lcadc.F lcamp.F lcasig.F lcbhab.F lcbkpr.F lcdigi.F lcfral.F
 lchit.F lcirun.F lcnami.F lcnois.F lcpad.F lcroc.F lcsamp.F
 lcsatu.F lcshow.F lcstrt.F lctrak.F lctrdi.F lctrht.F lcwire.F
 lcwsum.F lcwtri.F
 Removed Files:
 guinti.F
 aggatt.F aggord.F
 xtrcom.h
@
text
@*DK lctrht
      SUBROUTINE LCTRHT
C--------------------------------------------------------------
C! Sum up tower hits for triggering
C. - J.Dines Hansen & P.Hansen - 860417
C                                modified by F.Ranjard - 890210
C. - Fills bank LTTR
C. - Called by  LCDIGI                           from this .HLB
C. - Calls      LCSAMP                           from this .HLB
C.              BLIST                            from BOS
C.              VADD                             from CERNLIB
C -----------------------------------------------
#ifndef DOC
      SAVE
      EXTERNAL LCSAMP
#include "iocom.h"
#include "jqcom.h"
#include "lcnamc.h"
#include "lccomc.h"
#include "lcparm.h"
#include "lcmacr.h"
#include "bmacro.h"
C ------------------------------------------------------------
C
C - Book Tower Trigger bank
      LEN = LTTRR * LTTRC + LMHLEN
      CALL ALBOS ('LTTR',0,LEN,KL1TR,IGARB)
      IW(KL1TR+1) = LTTRC
      IW(KL1TR+2) = LTTRR
      CALL BLIST(IW,'E+','LTTR')
C
C - Sum up tower hits in the appropiate trigger amplifier
      KL1TH = IW(NALTHT)
      DO 200 ITOW = 1,LROWS(KL1TH)
         KTH = KROW(KL1TH,ITOW)
         IPAD= IW(KTH+1)
         IAMP= LCSAMP(IPAD)
         IF (IAMP .LE. 0 .OR. IAMP .GT. LTTRR)  GOTO 997
         KTR = KROW(KL1TR,IAMP)
         DO 220 ISTOR = 1,3
            IW(KTR+ISTOR) = IW(KTR+ISTOR) + IW(KTH+ISTOR+1)
  220    CONTINUE
  200 CONTINUE
      GOTO 999
C
 997  WRITE (LOUTIO,'(1X,''+++LCTRHT+++ wrong data in row# '',9I9)')
     &        ITOW,(IW(KTH+M),M=1,LCOLS(KL1TH)),IAMP
C
  999 RETURN
      END
#endif
@


1.1
log
@Initial revision
@
text
@d12 1
@


1.1.1.1
log
@import galeph 300
@
text
@@
