head	1.2;
access;
symbols
	gal309_3:1.2
	gal309_2:1.2
	gal309_1:1.2
	gal309:1.2
	gal308_2:1.2
	gal308_1:1.2
	gal308:1.2
	gal307_2:1.2
	gal307_1:1.2
	gal307:1.2
	gal306_3:1.2
	gal306_2:1.2
	gal306_1:1.2
	gal306:1.2
	gal305_3:1.2
	gal305_2:1.2
	gal305_1:1.2
	gal305:1.2
	gal304_11:1.2
	gal304_10:1.2
	gal304_9:1.2
	gal304_8:1.2
	gal304_7:1.2
	gal304_6:1.2
	gal304_5:1.2
	gal304_4:1.2
	gal304_3:1.2
	gal304_2:1.2
	gal304_1:1.2
	gal304:1.2
	gal303_3:1.2
	gal303_2:1.2
	gal303_1:1.2
	v-303:1.2
	gal302_2:1.2
	flr:1.1.1;
locks; strict;
comment	@c @;


1.2
date	95.06.29.16.22.05;	author flr;	state Exp;
branches;
next	1.1;

1.1
date	94.12.07.14.02.17;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	94.12.07.14.02.18;	author flr;	state Exp;
branches;
next	;


desc
@@


1.2
log
@release galeph 302
 Modified files:
 gadoc.doc itdoc.doc
 adinit.F adrz.F adview.F adxy.F gaxeph.F
 ecasig.F ecbook.F ecdigi.F echit.F ecirun.F ecista.F ecnami.F
 ectrig.F ecwsum.F edfilh.F edinip.F edtadj.F edtain.F edtcor.F
 edtcut.F edtdig.F edtono.F edtrgi.F edtzsu.F edwbru.F edwdgt.F
 ehbari.F ehcutg.F eprimi.F
 galeph.F qnext.F
 agbeam.F agchck.F agcoil.F agecal.F agecpm.F ageome.F aggean.F
 aghcal.F agitch.F aglcal.F agmate.F agmedi.F agmuch.F agquad.F
 agscal.F agsmba.F agtpch.F
 gstmed.F guhadr.F guphad.F gustep.F gutrak.F
 Removed Files:
 guinti.F
 aggatt.F aggord.F
@
text
@*DK hcdigi
      SUBROUTINE HCDIGI
C-------------------------------------------------------
C
C! Implements the module CREATE HC DIGITISINGS
C!
C!     Author     : G.Zito     86/05/21
C!     Modified   : G.Catanesi 89/02/06
C!     Modified   : L.Silvestris 18/3/93
C!
C!     Input bank : HTHT  McHcStoreys
C!                  HWHT  McHcTubeSignal with induction
C!                  HPHT  McHcPlaneSignal
C!     Output bank :
C!                  HWDI McHcTubeDigitising
C!                  HTDI  McHcStackDigitising
C!                  HPDI  McHcPlaneDigitising
C!                  HWTR McHcPlaneTriggerSignal
C!                  HTTR McHcTowerTriggerSignal
C!
C!   -Called by : ASDIGI
C!   -Calls : HCTRGA, HCTRGD, HCFORA, HCFOPL, HCFORD from this .HLB
C!            BDROP,BLIST from BOS77.HLB
C!            ALBOS  from ALEPHLIB
C -------------------------------------------
#ifndef DOC
      SAVE
#include "jobcom.h"
#include "bcs.h"
#include "hcnamc.h"
#include "hwdijj.h"
#include "hwtrjj.h"
#include "htdijj.h"
#include "httrjj.h"
#include "hpdijj.h"
#include "hccoun.h"
#include "iocom.h"
#include "bmacro.h"
C
C          Check for old digitisings banks and drop them
C
      IDRP = IW(NAHWDI)
      IF (IDRP.NE.0) CALL BDROP (IW,'HTDIHWDIHTTRHWTRHPDI')
C
C       Book HxTR and HxDI banks and add them to 'E' list
C
      JHWHT = IW(NAHWHT)
      IF (JHWHT.EQ.0) RETURN
      NHWHT = LROWS (JHWHT)
      CALL ALBOS ('HWDI',0,NHWHT*LHWDIA+LMHLEN,JHWDI,IGARB)
      IW(JHWDI+1) = LHWDIA
      IW(JHWDI+2) = 0
      CALL ALBOS ('HWTR',0,NHWTR*LHWTRA+LMHLEN,JHWTR,IGARB)
      IW(JHWTR+1) = LHWTRA
      IW(JHWTR+2) = NHWTR
      CALL BLIST(IW,'E+','HWDIHWTR')
C
      JHTHT = IW(NAHTHT)
      IF (JHTHT.EQ.0) RETURN
      NHTHT = LROWS (JHTHT)
      CALL ALBOS ('HTDI',0,NHTHT*LHTDIA+LMHLEN,JHTDI,IGARB)
      IW(JHTDI+1) = LHTDIA
      IW(JHTDI+2) = 0
      CALL ALBOS ('HTTR',0,NHTTR*LHTTRA+LMHLEN,JHTTR,IGARB)
      IW(JHTTR+1) = LHTTRA
      IW(JHTTR+2) = NHTTR
      CALL BLIST(IW,'E+','HTDIHTTR')
C
C     Issue HC trigger signal
C
C     Form tower trigger signal: HTHT -> HTTR 'E' list
C
      CALL HCTRGA
C
C     Form tube trigger signal: HWHT -> HWTR 'E' list
C
      CALL HCTRGD
C
C
      JHPHT = IW(NAHPHT)
      IF (JHTHT.EQ.0) RETURN
      NHPHT = LROWS (JHPHT)
      CALL ALBOS ('HPDI',0,NHPHT*LHPDIA+LMHLEN,JHPDI,IGARB)
      IW(JHPDI+1) = LHPDIA
      IW(JHPDI+2) = 0
      CALL BLIST(IW,'E+','HPDI')
C
C       Format tower signal
C
      CALL HCFORA
C
C
C       Format plane signal
C
      CALL HCFOPL
C       Format tube signal
C
      CALL HCFORD
C
C - Compress output banks
C
      CALL AUBPRS ('HTDIHWDIHPDI')
C
      END
#endif
@


1.1
log
@Initial revision
@
text
@d25 1
a25 1
C ------------------------------------------------------
d27 1
@


1.1.1.1
log
@import galeph 300
@
text
@@
