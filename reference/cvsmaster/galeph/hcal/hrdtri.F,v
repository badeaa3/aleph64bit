head	1.2;
access;
symbols
	gal309_3:1.2
	gal309_2:1.2
	gal309_1:1.2
	gal309:1.2
	gal308_2:1.2
	gal308_1:1.2
	gal308:1.2
	gal307_2:1.2
	gal307_1:1.2
	gal307:1.2
	gal306_3:1.2
	gal306_2:1.2
	gal306_1:1.2
	gal306:1.2
	gal305_3:1.2
	gal305_2:1.2
	gal305_1:1.2
	gal305:1.2
	gal304_11:1.2
	gal304_10:1.2
	gal304_9:1.2
	gal304_8:1.2
	gal304_7:1.2
	gal304_6:1.2
	gal304_5:1.2
	gal304_4:1.2
	gal304_3:1.2
	gal304_2:1.2
	gal304_1:1.2
	gal304:1.2
	gal303_3:1.2
	gal303_2:1.2
	gal303_1:1.2
	v-303:1.2
	gal302_2:1.2
	flr:1.1.1;
locks; strict;
comment	@c @;


1.2
date	95.06.29.16.23.21;	author flr;	state Exp;
branches;
next	1.1;

1.1
date	94.12.07.14.02.24;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	94.12.07.14.02.25;	author flr;	state Exp;
branches;
next	;


desc
@@


1.2
log
@release galeph 302
 Modified files:
 gadoc.doc itdoc.doc
 adinit.F adrz.F adview.F adxy.F gaxeph.F
 ecasig.F ecbook.F ecdigi.F echit.F ecirun.F ecista.F ecnami.F
 ectrig.F ecwsum.F edfilh.F edinip.F edtadj.F edtain.F edtcor.F
 edtcut.F edtdig.F edtono.F edtrgi.F edtzsu.F edwbru.F edwdgt.F
 ehbari.F ehcutg.F eprimi.F
 galeph.F qnext.F
 agbeam.F agchck.F agcoil.F agecal.F agecpm.F ageome.F aggean.F
 aghcal.F agitch.F aglcal.F agmate.F agmedi.F agmuch.F agquad.F
 agscal.F agsmba.F agtpch.F
 gstmed.F guhadr.F guphad.F gustep.F gutrak.F
 Removed Files:
 guinti.F
 aggatt.F aggord.F
@
text
@*DK hrdtri
      SUBROUTINE HRDTRI (LDBAS,IRUN,IFLAG)
C -------------------------------------------------------------------
C - G.Catanesi - 871007 -                    F.Ranjard - 880203
C! load /HCTRIG/ with DB trigger banks
C- input arguments:
C        LDBAS    : data base logical unit#
C        IRUN     : run number
C - output argument:
C        IFLAG     : return flag ( = ALGTDB(LDBAS,list,IRUN) )
C
C -----------------------------------------------------
#ifndef DOC
#include "hctrig.h"
#include "hjjpar.h"
#include "bcs.h"
      INTEGER ALGTDB
      EXTERNAL ALGTDB
      CHARACTER*12 LISTT
      DATA LISTT /'HCTGHSBAHSEC'/
#include "bmacro.h"
C -----------------------------------------------------------------
C
C  If the trigger constants are required loads the banks
C    from the D.A file ADBSCOMB.DAF (unit 4) to the
C            HCTRIG common
C
      IFLAG=ALGTDB(LDBAS,LISTT,IRUN)
      IF(IFLAG.EQ.0)RETURN
C
C      Get index for Trigger banks
C
      JHCTG = IW(NAMIND( 'HCTG'))
      JHSBA = IW(NAMIND( 'HSBA'))
      JHSEC = IW(NAMIND( 'HSEC'))
C
      IF(JHCTG.NE.0)THEN
C
C  Store the content of the HCTG bank
C
         NHCEPR = ITABL(JHCTG,1,JHCTEP)
         NHCBPR = ITABL(JHCTG,1,JHCTBP)
         NHCETR = ITABL(JHCTG,1,JHCTET)
         NHCBTR = ITABL(JHCTG,1,JHCTBT)
C
         KHCTG = JHCTG + LMHLEN + JHCTTM - 1
         DO 10 J=1,LHCRT
            IHCTRG(J) = IW(KHCTG+1)
            NHCBTS(J) = IW(KHCTG+2)
            NHCETS(J) = IW(KHCTG+3)
            KHCTG = KHCTG + 3
   10    CONTINUE
C
C
C  Trigger quantities used in Galeph
C
         MHCETR = (NHCEPR-1) * NHCETR
         MHCBTR = (NHCBPR-1) * NHCBTR
C
      ENDIF
C
C Store the content of a part of HSBA bank
C
      IF(JHSBA.NE.0)THEN
C
         LHSBA = LCOLS(JHSBA)
         NHSBA = LROWS(JHSBA)
         DO 20 J=1,NHSBA
            IYHCFI(J) = ITABL(JHSBA,J,JHSBEN)
   20    CONTINUE
C
      ENDIF
C
C Store the content of a part of HSEC bank
C
      IF(JHSEC.NE.0)THEN
C
         LHSEC = LCOLS(JHSEC)
         NHSEC = LROWS(JHSEC)
         DO 30 J=1,NHSEC
            IXHCFI(J) = ITABL(JHSEC,J,JHSEFN)
            IXHCSE(J) = ITABL(JHSEC,J,JHSESN)
   30    CONTINUE
C
      ENDIF
      END
#endif
@


1.1
log
@Initial revision
@
text
@d11 2
a12 1
C -------------------------------------------------------------------
@


1.1.1.1
log
@import galeph 300
@
text
@@
