head	1.2;
access;
symbols
	gal309_3:1.2
	gal309_2:1.2
	gal309_1:1.2
	gal309:1.2
	gal308_2:1.2
	gal308_1:1.2
	gal308:1.2
	gal307_2:1.2
	gal307_1:1.2
	gal307:1.2
	gal306_3:1.2
	gal306_2:1.2
	gal306_1:1.2
	gal306:1.2
	gal305_3:1.2
	gal305_2:1.2
	gal305_1:1.2
	gal305:1.2
	gal304_11:1.2
	gal304_10:1.2
	gal304_9:1.2
	gal304_8:1.2
	gal304_7:1.2
	gal304_6:1.2
	gal304_5:1.2
	gal304_4:1.2
	gal304_3:1.2
	gal304_2:1.2
	gal304_1:1.2
	gal304:1.2
	gal303_3:1.2
	gal303_2:1.2
	gal303_1:1.2
	v-303:1.2
	gal302_2:1.2
	flr:1.1.1;
locks; strict;
comment	@c @;


1.2
date	95.06.29.16.23.02;	author flr;	state Exp;
branches;
next	1.1;

1.1
date	94.12.07.14.02.22;	author flr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	94.12.07.14.02.23;	author flr;	state Exp;
branches;
next	;


desc
@@


1.2
log
@release galeph 302
 Modified files:
 gadoc.doc itdoc.doc
 adinit.F adrz.F adview.F adxy.F gaxeph.F
 ecasig.F ecbook.F ecdigi.F echit.F ecirun.F ecista.F ecnami.F
 ectrig.F ecwsum.F edfilh.F edinip.F edtadj.F edtain.F edtcor.F
 edtcut.F edtdig.F edtono.F edtrgi.F edtzsu.F edwbru.F edwdgt.F
 ehbari.F ehcutg.F eprimi.F
 galeph.F qnext.F
 agbeam.F agchck.F agcoil.F agecal.F agecpm.F ageome.F aggean.F
 aghcal.F agitch.F aglcal.F agmate.F agmedi.F agmuch.F agquad.F
 agscal.F agsmba.F agtpch.F
 gstmed.F guhadr.F guphad.F gustep.F gutrak.F
 Removed Files:
 guinti.F
 aggatt.F aggord.F
@
text
@*DK hctrga
      SUBROUTINE HCTRGA
C --------------------------------------------
C
C! Implements the module FORM TOWER TRIGGER SIGNAL
C!
C!
C!      Author     : G.Zito 86/05/21
C!      Modified by: F.Ranjard 89/02/10
C!
C!      Input bank  : HTHT  McHcStoreys
C!      Output bank : HTTR  McHcTowerTrigSignal
C!
C!
C!   -Called by : HCDIGI
C!   -Calls     : none
C -----------------------------------------
#ifndef DOC
#include "bcs.h"
#include "jobcom.h"
#include "iocom.h"
#include "hccoun.h"
#include "hcnamc.h"
#include "httrjj.h"
#include "hthtjj.h"
#include "hctrig.h"
#include "bmacro.h"
C ------------------------------------------------------------
      JHTHT = IW(NAHTHT)
      NHTHT = LROWS (JHTHT)
      IF (NHTHT.EQ.0) RETURN
      JHTTR = IW(NAHTTR)
C
C          Scan the table McHcStoreys adding to trigger signal
C
      KHTHT = JHTHT + LMHLEN
      N1 = NHCETR
      N2 = N1 + NHCBTR
      N3 = N1 + NHCBTR/2
      DO 10 I = 1, NHTHT
         NTHS = IW(KHTHT+3)
         NFIS = IW(KHTHT+2)
C
C          Trigger signals stored following Putzer description
C
         IF (NTHS.LE.N1) THEN
            IPOS = (NFIS-1)*NHCETR + NTHS
         ELSE IF (NTHS.LE.N3) THEN
            IPOS = MHCETR + (NFIS-1)*(NHCBTR/2) + NTHS
         ELSE IF (NTHS.LE.N2) THEN
            IPOS = MHCETR + (NHCBPR+NFIS-2)*(NHCBTR/2)+NTHS
         ELSE
            IPOS = MHCETR + MHCBTR + (NFIS-1)*NHCETR + NTHS
         ENDIF
         KHTTR = KROW (JHTTR,IPOS)
         IW(KHTTR+1) = IW(KHTTR+1) + NINT (RW(KHTHT+4)*1000.)
         KHTHT = KHTHT + LHTHTA
   10 CONTINUE
C
C
      IF(FHCDB1)THEN
         WRITE(LOUTIO,500)
         KHTTR = JHTTR + LMHLEN
         DO 20 I= 1,IW(JHTTR)-LMHLEN,12
            WRITE(LOUTIO,510) I,I+11,(IW(KHTTR+K),K=1,12)
   20    KHTTR = KHTTR + 12
      ENDIF
C
      RETURN
  500 FORMAT (/1X,'+++HCTRGA+++ HTTR  McHcTrigSignal (Mev)')
  510 FORMAT (1X,I3,'-',I3,12I9)
      END
#endif
@


1.1
log
@Initial revision
@
text
@d17 1
a17 1
C ------------------------------------------------------
@


1.1.1.1
log
@import galeph 300
@
text
@@
